## **#λ¬Έμ **Β  Β  Β  Β  Β 

**λ λ²¨: G2  
μ•κ³ λ¦¬μ¦: ν¬ν¬μΈν„°**  
**ν’€μ΄μ‹κ°„: 1μ‹κ°„  
ννΈ μ°Έμ΅° μ λ¬΄: μ **

[https://www.acmicpc.net/problem/7453](https://www.acmicpc.net/problem/7453)

[##_Image|kage@DbRtr/btsJuU3T3Wh/zL24MvpsVFZ06Swsd1BJQK/img.png|CDM|1.3|{"originWidth":1045,"originHeight":865,"style":"alignCenter"}_##]

---

## **#λ¬Έμ  ν’€μ΄**Β  Β  Β  Β Β 

### β” ν’€μ΄λ²•

4κ°μ λ°°μ—΄μ„ κ°κ° μ΅°νν•λ©΄ μ‹κ°„μ΄κ³Όκ°€ λ°μƒν•λ―€λ΅Β Aμ™€Β BΒ μ›μ†μ ν•©μ΄Β Cμ™€Β DΒ μ›μ†μ ν•©μ΄ λ¶€νΈλ§ λ‹¤λ¥΄κ³  μ λ€κ°’μ΄ κ°™μ€ κ²½μ°λ¥Ό μ°ΎμΌλ©΄λλ‹¤.μ—¬κΈ°μ„ μμ•„ν• μ‚¬λλ“¤μ΄ μμ„ κ±°λ‹¤. μ—¥ a+bΒ  = - (c+d) μ΅°ν•©λ§ κ³ λ ¤ν•λ©΄ λ¨λ“  κ²½μ°μ μλ¥Ό μ°Ύμ§€ λ»ν•μ§€ μ•λ‚? a+c = -(b+d)λΌλμ§€ a+d = -(c+b) μ μ΅°ν•©μ„ κ³ λ ¤ν•΄μ•Όμ§€ μ•λ‚?

μ•„λ‹λ‹¤. **ν• κ°€μ§€μ μ΅°ν•©λ§ κ³ λ ¤ν•΄λ„ λ¨λ“  κ²½μ°μ μλ¥Ό μ• μ μλ‹¤.** μμ‹λ¥Ό λ“¤μ–΄λ³΄κ² λ‹¤.

![image](https://github.com/user-attachments/assets/6ec847cf-668c-40fa-8067-90f796062ebf)

**μ„μ™€ κ°™μ€ λ°°μ—΄μ΄ μμ„ λ•Β  a+bΒ  = - (c+d)μ κ²½μ°μ μλ§ κµ¬ν•΄λ³΄κ² λ‹¤.**Β 

a+bκ°€ (1+4=5), (1+5=6), (2+4=6), (2+5=7)μ κ²½μ°μ μκ°€ μλ‹¤.κ·ΈλΌ c+dμ ν•©μ΄ a+bμ -λ¥Ό μ°Ύμ•„μ•Ό ν•λ‹ -5,-6,-7μ κ²½μ°μ μλ¥Ό μ°Ύμ•„μ•Ό ν•λ‹¤.c+dκ°€ -5κ°€ λλ” κ²½μ°μ μΒ  Β { (-1,-4) }

c+dκ°€ -6κ°€ λλ” κ²½μ°μ μΒ  Β { (-1,-5), (-2,-4)}

c+dκ°€ -7κ°€ λλ” κ²½μ°μ μΒ  Β { (-2, -5) }

κ°€ μ΄λ ‡κ² λλ‹¤.Β 

μ •λ‹µμ€

a+bκ°€ 5κ°€ λλ” κ²½μ°μ μΒ  x c+dκ°€ -5κ°€ λλ” κ²½μ°μ μΒ Β 

+

a+bκ°€ 6μ΄ λλ” κ²½μ°μ μΒ  xΒ c+dκ°€ -6μ΄ λλ” κ²½μ°μ μ

+

a+bκ°€ 7μ΄ λλ” κ²½μ°μ μΒ  xΒ c+dκ°€ -7μ΄ λλ” κ²½μ°μ μ

μ΄λ―€λ΅

**(1x1) + (2 x 2) + (1 x 1) = 6μ΄λ‹¤.**

μ΄μ Β 

Β a+c = -(b+d)μ κ²½μ›…μ μλ¥Ό μ‚΄ν΄ μ„μ™€ κ°™λ‹¤λ” κ²ƒμ„ μ¦λ…ν•κ² λ‹¤.

a+cμ κ²½μ°μ μλ” { (1,-1), (1, -2), (2,-1), (2,-2) } μΈ κ²½μ°μ μκ°€ μλ‹¤.

κ·ΈλΌ b+dμ ν•©μ΄ a+cμ -λ¥Ό μ°Ύμ•„μ•Ό ν•λ‹ 0,1,-1μ κ²½μ°μ μλ¥Ό μ°Ύμ•„μ•Ό ν•λ‹¤.

Β b+d κ°€ 0μ΄ λλ” κ²½μ°μ μΒ  Β { (4,-4) , (5,-5)}

Β b+d κ°€ 1μ΄ λλ” κ²½μ°μ μΒ  Β { (5,-4)}

Β b+d κ°€ -1μ΄ λλ” κ²½μ°μ μΒ  Β { (4, -5) }

κ°€ λλ‹¤.

Β a+c κ°€ 0μ΄ λλ” κ²½μ°μ μΒ  x Β b+d κ°€ 0μ΄ λλ” κ²½μ°μ μΒ Β 

+

Β a+c κ°€ 1μ΄ λλ” κ²½μ°μ μΒ  x Β b+d κ°€ -1μ΄ λλ” κ²½μ°μ μ

+

Β a+c κ°€ -1κ°€ λλ” κ²½μ°μ μΒ  x Β b+d κ°€ 1μ΄ λλ” κ²½μ°μ μ

μ΄λ―€λ΅

**(2x2) + (1 x 1) + (1 x 1) = 6μ΄λ‹¤.**

**λ‘κ°™μ΄ 6μΌλ΅ λ‘κ°™λ‹¤. μ—μ΄.. κ·Έλ¬λ©΄ λ‘μ΄ κµ¬ν–λ κ²½μ°μ μκ°€ λ‹¤λ¥΄λ‹ μ •λ‹µμ΄ 6μΌλ΅ κ°™μ€ κ² μ•„λ‹λΌ 6 + 6 ν•΄μ•Ό λλ” κ±° μ•„λ‹μ•Ό? μ•„λ‹λ‹¤. κµ¬ν–λ μ΅°ν•©μ„ μ‚΄ν΄λ³΄μ. (νλ€μƒ‰μ΄ μ™Όμ½ μ΅°ν•©μ΄λ‹¤.)**

AB CDμΌ λ•

(1,4,-1,-4)Β  Β  (1,5,\-1,-5)Β  (1,5,-2,-4),Β  (2,4,-1,-5)Β  (2,4,\-2,-4)Β  (2,5,-2,-5)μ΄λ‹¤.

AC BDμΌ λ•λ”

(1,4,-1,-4)Β  Β  (1,5,\-1,-5)Β  (1,5,-2,-4),Β  (2,4,\-1,-5)Β  (2,4,\-2,-4)Β  (2,5,-2,-5)μ΄λ‹¤.

**λ³΄μ‹λ‹¤μ‹ν”Ό μ΅°ν•©μ„ λ‹¬λ¦¬ν•΄μ„ κµ¬ν•λ”λΌλ„ κ²°κ³Όκ°’μ€ κ°™λ‹¤.**

Β **κ·Έλμ„ μ°λ¦¬λ” A+B = -(C+D) μ΅°ν•©λ§ κµ¬ν•  κ²ƒμ΄λ‹¤.**

βπ» ν•΄μ‹ λ§µ

μ›μ†μ ν•©μ΄ key, ν•©μ κ°μκ°€ valueμΈ λ§µμ„ λ§λ“ λ‹¤.Β Aμ™€Β BΒ μ›μ†μ ν•©μ—Β β’1μ„ κ³±ν• κ°’μ„Β Cμ™€Β DΒ μ›μ†μ ν•©μ—μ„ μ°Ύκ³  κ° κ°μλ¥Ό κ³±ν•΄μ¤€λ‹¤.  
ν•μ§€λ§ μ‹κ°„μ΄κ³Όκ°€ λ°μƒν–λ‹¤.

βπ» μ΄λ¶„ νƒμƒ‰

Aμ™€Β BΒ μ›μ†μ ν•©μ—Β β’1μ„ κ³±ν• κ°’μ„Β Cμ™€Β DΒ μ›μ† ν•© λ°°μ—΄μ—μ„ μ°Ύλ”λ‹¤. μ¤‘λ³µμ΄ κ°€λ¥ν•λ―€λ΅ upper boundμ™€ lower boundλ¥Ό μ‚¬μ©ν•μ—¬ ν•΄λ‹Ή κ°μλ¥Ό λ”ν•λ‹¤.

π¤π» ν¬ ν¬μΈν„°

λ‘ κ°μ ν¬μΈν„° μ¤‘ ν•λ‚λ” μ™Όμ½μ—μ„, λ‹¤λ¥Έ ν•λ‚λ” μ¤λ¥Έμ½μ—μ„ μ‹μ‘ν•λ‹¤.  
A,Β BΒ ν•© λ°°μ—΄μ μ›μ†μ™€Β C,Β DΒ ν•© λ°°μ—΄μ μ›μ†λ¥Ό λ”ν•΄Β 0μ΄ λλ” κ³³μ„ μ°Ύλ”λ‹¤.  
μ›μ†μ μ¤‘λ³µμ΄ μ΅΄μ¬ν•κΈ° λ•λ¬Έμ— λ‘ λ°°μ—΄μ—μ„ ν„μ¬ μ›μ†μ™€ λ™μΌν• κ°’μ„ κ°–λ” μ›μ† κ°μλ¥Ό μ„Ό λ’¤ λ‘ κ°’μ„ κ³±ν•λ‹¤.

---

## **#ν’€μ΄ μ½”λ“**Β  Β Β  Β 

**ν¬ ν¬μΈν„° μ½”λ“**

```
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import java.util.StringTokenizer;

public class Main {
    static int n;
    static long[] A;
    static long[] B;
    static long[] C;
    static long[] D;

    static long findByTwoPointer() {
        long[] AB = new long[n * n];
        long[] CD = new long[n * n];

        for (int i = 0; i < n; i++) {
            for (int j = 0; j < n; j++) {
                AB[i * n + j] = A[i] + B[j];
                CD[i * n + j] = C[i] + D[j];
            }
        }

        Arrays.sort(AB);
        Arrays.sort(CD);

        long count = 0;

        //2κ°μ λ°°μ—΄μ— 4κ°μ ν¬μΈν„°(ABμ™Ό,ABμ¤,CDμ™Ό,CDμ¤)λ¥Ό μ“°λ” κ² μ•„λ‹λΌ
        //2κ°μ λ°°μ—΄μ— 2κ°μ ν¬μΈν„°(ABμ™Ό,CDμ¤)λ¥Ό μ“°λ” κ±°λ‹¤
        int l = 0, r = n * n - 1;
        while (l < n * n && r >= 0) {
            long sum = AB[l] + CD[r];

            if (sum < 0) {
                l++;
                continue;
            }

            if (sum > 0) {
                r--;
                continue;
            }

            long lCount = 1;
            l++;
            //μ•„λλ” AB =  -CDμΈ κ²½μ°μ΄λ‹¤.
            
            
            //ABμ΅°ν•©μ— κ°™μ€ μ«μκ°€ μλ‹¤λ©΄ κ·Έ μλ§νΌ CDμ΅°ν•©μ΄λ‘ κ³±ν•΄μ¤μ•Ό ν•λ―€λ΅ 
            //λ™μΌν• μ«μλ¥Ό μΉ΄μ΄νΈ ν•λ©° ν¬μΈν„°λ¥Ό μ®κΈ΄λ‹¤.
            while (l < n * n && AB[l] == AB[l - 1]) {
                lCount++;
                l++;
            }

            //CDμ΅°ν•©μ— κ°™μ€ μ«μκ°€ μλ‹¤λ©΄ κ·Έ μλ§νΌ ABμ΅°ν•©μ΄λ‘ κ³±ν•΄μ¤μ•Ό ν•λ―€λ΅ 
            //λ™μΌν• μ«μλ¥Ό μΉ΄μ΄νΈ ν•λ©° ν¬μΈν„°λ¥Ό μ®κΈ΄λ‹¤.
            long rCount = 1;
            r--;
            while (r >= 0 && CD[r] == CD[r + 1]) {
                rCount++;
                r--;
            }

            count += lCount * rCount;
        }

        return count;
    }

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st;

        n = Integer.parseInt(br.readLine());
        A = new long[n];
        B = new long[n];
        C = new long[n];
        D = new long[n];

        for (int i = 0; i < n; i++) {
            st = new StringTokenizer(br.readLine());

            A[i] = Long.parseLong(st.nextToken());
            B[i] = Long.parseLong(st.nextToken());
            C[i] = Long.parseLong(st.nextToken());
            D[i] = Long.parseLong(st.nextToken());
        }

        System.out.println(findByTwoPointer());
        br.close();
    }
}
```
