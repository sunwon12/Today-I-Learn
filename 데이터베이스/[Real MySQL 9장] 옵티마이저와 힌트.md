# 1. ê°œìš”

---

**ì˜µí‹°ë§ˆì´ì €ëŠ” MYSQLì—ì„œ ìµœì ì˜ ì¿¼ë¦¬ ì‹¤í–‰ê³„íšì„ ìˆ˜ë¦½í•˜ëŠ” ê¸°ëŠ¥ìž…ë‹ˆë‹¤.**

## 1.1 ì¿¼ë¦¬ ì‹¤í–‰ ì ˆì°¨

---

1. **`SQLíŒŒì„œ`:** ì‚¬ìš©ìžë¡œë¶€í„° ìš”ì²­ëœ SQL ë¬¸ìž¥ì„ ìª¼ê°œì„œ MYSQL ì„œë²„ê°€ ì´í•´í•  ìˆ˜ìžˆëŠ” ìˆ˜ì¤€ìœ¼ë¡œ ë¶„ë¦¬(íŒŒìŠ¤ íŠ¸ë¦¬)í•©ë‹ˆë‹¤.
2. **`ì˜µí‹°ë§ˆì´ì €`:** íŒŒì‹± ì •ë³´ë¥¼ ë³´ë©´ì„œ ì–´ë–¤ í…Œì´ë¸”ë¶€í„° ì½ì„ì§€, ì–´ë–¤ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ í…Œì´ë¸”ì„ ì´ìš©í•´ ì½ì„ì§€ ì„ íƒí•©ë‹ˆë‹¤.
3. **`MYSQL ì—”ì§„`**, **`ìŠ¤í† ë¦¬ì§€ ì—”ì§„`**: ë‘ ë²ˆì§¸ ë‹¨ê³„ì—ì„œ ê²°ì •ëœ í…Œì´ë¸”ì˜ ì½ê¸° ìˆœì„œë‚˜ ì„ íƒëœ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œë¶€í„° ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.

## 1.2 ì˜µí‹°ë§ˆì´ì €ì˜ ì¢…ë¥˜

---

ì˜µí‹°ë§ˆì´ì €ëŠ” í…Œì´í„° ë² ì´ìŠ¤ ì„œë²„ì—ì„œ ë‘ë‡Œì™€ ê°™ì€ ì—­í• ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.

- **ê·œì¹™ ê¸°ë°˜ ìµœì í™”(RBO, Rule-Based Optimizer)**
    - ì´ˆê¸° ë²„ì „ì— ë§Žì´ ì‚¬ìš©
    - ë‚´ìž¥ëœ ìš°ì„ ìˆœìœ„ì— ë”°ë¼ ì‹¤í–‰ ê³„íš ìˆ˜ë¦½
    - í†µê³„ ì •ë³´(í…Œì´ë¸”ì˜ ë ˆì½”ë“œ ê±´ìˆ˜ë‚˜ ì¹¼ëŸ½ê°’ì˜ ë¶„í¬ë„)ë¥¼ ì¡°ì‚¬í•˜ì§€ ì•Šì•„ í•­ìƒ ê°™ì€ ì‹¤í–‰ ë°©ë²•ì„ ë§Œë“¦
- **ë¹„ìš© ê¸°ë°˜ ì˜µí‹°ë§ˆì´ì €(CBO, Cost-Based Optimizer)**
    - ìš”ì¦˜ ëŒ€ë¶€ë¶„ì˜ RDBMSê°€ ì±„íƒ, MYSQLë„ ë§ˆì°¬ê°€ì§€
    - ì—¬ëŸ¬ ê°€ì§„ ê²½ìš°ì˜ ìˆ˜ì¤‘ ìµœì†Œí•œì˜ ë¹„ìš© ì„ íƒ

# 2. ê¸°ë³¸ ë°ì´í„° ì²˜ë¦¬

---

ëª¨ë“  RDBMSëŠ” ë°ì´í„°ë¥¼ ì •ë ¬í•˜ê±°ë‚˜ ê·¸ë£¨í•‘í•˜ëŠ” ë“±ì˜ ê¸°ë³¸ ë°ì´í„° ê°€ê³µ ê¸°ëŠ¥ì„ ê°€ì§€ê³  ìžˆìŠµë‹ˆë‹¤. MYSQL ì„œë²„ê°€ ì–´ë–¤ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ëŠ”ì§€ ì‚´íŽ´ë³´ê² ìŠµë‹ˆë‹¤.

## 2.1 í’€í…Œì´ë¸” ìŠ¤ìº”ê³¼ í’€ ì¸ë±ìŠ¤ ìŠ¤ìº”

---

- **í’€ í…Œì´ë¸” ìŠ¤ìº”:** ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  í…Œì´ë¸”ì˜ ë°ì´í„°ë¥¼ ì²˜ìŒë¶€í„° ëê¹Œì§€ ì½ìŒ
    - ë°œìƒì¡°ê±´:
        - í…Œì´ë¸”ì˜ ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ë„ˆë¬´ ìž‘ì•„ì„œ ì¸ë±ìŠ¤ë¥¼ í†µí•´ ì½ëŠ” ê²ƒë³´ë‹¤ í’€ í…Œì´ë¸” ìŠ¤ìº”ì„ í•˜ëŠ” íŽ¸ì´ ë” ë¹ ë¥¸ ê²½ìš°( ì¼ë°˜ì ìœ¼ë¡œ í…Œì´ë¸”ì´ íŽ˜ì´ì§€ 1ê°œë¡œ êµ¬ì„±ëœ ê²½ìš°)
        - WHERE ì ˆì´ë‚˜ ON ì ˆì— ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•  ìˆ˜ ìžˆëŠ” ì ì ˆí•œ ì¡°ê±´ì´ ì—†ëŠ” ê²½ìš°
        - ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ì˜ ë²”ìœ„ê°€ ë„ˆë¬´ ë„“ì€ ê²½ìš° (ì „ì²´ í…Œì´ë¸”ì˜ 20~25% ì´ìƒ)
- **í’€ ì¸ë±ìŠ¤ ìŠ¤ìº”**: ì¸ë±ìŠ¤ë¥¼ ì²˜ìŒë¶€í„° ëê¹Œì§€ ì½ìŒ

â­ï¸`ë¦¬ë“œ ì–´í—¤ë“œ`: **ë””ìŠ¤í¬ I/O ì„±ëŠ¥ì„ ìµœì í™”í•˜ê¸° ìœ„í•´ ë””ìŠ¤í¬ì—ì„œ ë°ì´í„°ë¥¼ í•œ íŽ˜ì´ì§€ì”© ì½ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ì—°ì†ëœ ì—¬ëŸ¬ íŽ˜ì´ì§€ë¥¼ í•œ ë²ˆì— ì½ì–´ ë²„í¼ í’€ì— ì ìž¬í•˜ëŠ” ê¸°ìˆ **

1. ì²˜ìŒì—ëŠ” í¬ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œê°€ íŽ˜ì´ì§€ ì½ê¸°ë¥¼ ì‹¤í–‰í•˜ê³ 
2. íŠ¹ì • ì‹œì ë¶€í„°ëŠ” ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œê°€ 4ê°œ ë˜ëŠ” 8ê°œì”©ì˜ íŽ˜ì´ì§€ë¥¼ ì½ìœ¼ë©´ì„œ ê³„ì† ê·¸ ìˆ˜ë¥¼ ì¦ê°€ì‹œí‚µë‹ˆë‹¤. ìµœëŒ€ 64ê°œ íŽ˜ì´ì§€ê¹Œì§€ ì½ì–´ì„œ ë²„í¼ í’€ì— ì €ìž¥í•´ë‘¡ë‹ˆë‹¤.
3. í¬ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œëŠ” ë¯¸ë¦¬ ë²„í¼ í’€ì— ì¤€ë¹„ëœ ë°ì´í„°ë¥¼ ê°€ì ¸ë‹¤ ì‚¬ìš©í•˜ê¸°ë§Œ í•˜ë©´ ë˜ë¯€ë¡œ ì¿¼ë¦¬ê°€ ë¹¨ë¦¬ ì²˜ë¦¬ë©ë‹ˆë‹¤.

MYSQL ì„œë²„ì—ì„œëŠ” innodb_read_ahead_threshold ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì´ìš©í•´ ì–¸ì œ ë¦¬ë“œ ì–´í—¤ë“œë¥¼ ì‹œìž‘í• ì§€ ìž„ê³„ê°’ì„ ì„¤ì •í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

## 2.2 ë³‘ë ¬ ì²˜ë¦¬

---

MYSQL 8.0 ë²„ì „ ì´í›„ë¶€í„°ëŠ” í•˜ë‚˜ì˜ ì¿¼ë¦¬ì—ì„œ ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ìž‘ì—…ì„ ë‚˜ëˆ„ì–´ ë™ì‹œì— ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•´ì¡ŒìŠµë‹ˆë‹¤.(ë³‘ë ¬ ì²˜ë¦¬)

- **ìž¥ì **: ëŒ€ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ì†ë„ í–¥ìƒ.
- **ì£¼ì˜ì‚¬í•­**: CPU ì½”ì–´ê°€ ë¶€ì¡±í•  ê²½ìš° ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ìœ¼ë¡œ ì˜¤ížˆë ¤ ì„±ëŠ¥ ì €í•˜.

## 2.3 ORDER BY ì²˜ë¦¬(Using filesort)

---

ORDER BY ì ˆì€ ë°ì´í„°ë¥¼ ì •ë ¬í•  ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤. ì¸ë±ìŠ¤ë¥¼ í™œìš©í•˜ë©´ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìžˆì§€ë§Œ, ì¸ë±ìŠ¤ë¥¼ í™œìš©í•˜ì§€ ëª»í•˜ë©´ **Using filesort**ê°€ ë°œìƒí•©ë‹ˆë‹¤. ì´ëŠ” ì •ë ¬ ìž‘ì—…ì´ ë©”ëª¨ë¦¬ë‚˜ ë””ìŠ¤í¬ì—ì„œ ìˆ˜í–‰ë¨ì„ ì˜ë¯¸í•˜ë©°, ì„±ëŠ¥ ì €í•˜ì˜ ì›ì¸ì´ ë©ë‹ˆë‹¤. ì—¬ê¸°ì„œ 'filesort'ëŠ” ì‹¤ì œ íŒŒì¼ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, MySQLì´ ì •ë ¬ ìž‘ì—…ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ ë³„ë„ì˜ ì •ë ¬ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

**Filesort í™•ì¸:**

```
EXPLAIN SELECT * FROM employees ORDER BY name;
```

- ì‹¤í–‰ ê³„íšì˜ `Extra` í•„ë“œì— `Using filesort`ê°€ í‘œì‹œë˜ë©´ Filesortê°€ ë°œìƒ.

**ìµœì í™” ë°©ë²•**:

- ORDER BY ì ˆì— í¬í•¨ëœ ì»¬ëŸ¼ ìˆœì„œë¥¼ ì¸ë±ìŠ¤ì™€ ë™ì¼í•˜ê²Œ ì„¤ê³„.
- LIMIT ì ˆì„ ì‚¬ìš©í•˜ì—¬ ì •ë ¬ ìž‘ì—… ë²”ìœ„ë¥¼ ì¤„ìž„.

### 2.3.1 **ì†ŒíŠ¸ ë²„í¼**

---

- MySQLì€ ì •ë ¬ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ ì†ŒíŠ¸ ë²„í¼ë¼ëŠ” ë³„ë„ì˜ ë©”ëª¨ë¦¬ ê³µê°„ì„ í• ë‹¹ë°›ì•„ ì‚¬ìš©í•œë‹¤.
- ì†ŒíŠ¸ ë²„í¼ëŠ” ì •ë ¬ì´ í•„ìš”í•œ ê²½ìš°ì—ë§Œ í• ë‹¹ë˜ëŠ” ê°€ë³€ì ì¸ ê³µê°„ì´ë©°, ì¿¼ë¦¬ ì‹¤í–‰ì´ ì™„ë£Œë˜ë©´ ì¦‰ì‹œ ë°˜ë‚©ëœë‹¤.
- ì •ë ¬í•´ì•¼ í•  ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ì†ŒíŠ¸ ë²„í¼ ê³µê°„ë³´ë‹¤ í¬ë‹¤ë©´, ë ˆì½”ë“œë¥¼ ì—¬ëŸ¬ ì¡°ê°ìœ¼ë¡œ ë‚˜ëˆ ì„œ ì²˜ë¦¬í•˜ëŠ”ë°, ì´ë•Œ ìž„ì‹œì €ìž¥ì„ ìœ„í•´ ë””ìŠ¤í¬ë¥¼ ì‚¬ìš©í•œë‹¤.ðŸ‘Ž ì •ë ¬í•˜ê³  ë³‘í•©í•˜ëŠ” ê³¼ì •ì—ì„œ ë””ìŠ¤í¬ ì½ê¸°, ì“°ê¸°ê°€ ìœ ë°œëœë‹¤.

### 2.3.2 filesort ì •ë ¬ ì•Œê³ ë¦¬ì¦˜

---

**ì‹±ê¸€ íŒ¨ìŠ¤ ë°©ì‹:**

ì •ë ¬ ëŒ€ìƒ + SELECT ì¹¼ëŸ¼ì„ ëª¨ë‘ ì†ŒíŠ¸ ë²„í¼ì— ì €ìž¥í•˜ì—¬ ì •ë ¬ ìˆ˜í–‰ í›„ ì¦‰ì‹œ ë ˆì½”ë“œ ë°˜í™˜

ìž¥ì : ë””ìŠ¤í¬ ì½ê¸°ê°€ í•œ ë²ˆë§Œ ë°œìƒ
ë‹¨ì : ë©”ëª¨ë¦¬(ì†ŒíŠ¸ ë²„í¼) ë§Žì´ í•„ìš”

**íˆ¬ íŒ¨ìŠ¤ ë°©ì‹:**

ì •ë ¬ í‚¤ + PKë§Œ ì†ŒíŠ¸ ë²„í¼ì— ì €ìž¥í•˜ì—¬ ì •ë ¬ ìˆ˜í–‰ í›„ ì •ë ¬ëœ ìˆœì„œëŒ€ë¡œ ë‹¤ì‹œ ë””ìŠ¤í¬ì—ì„œ ë ˆì½”ë“œ ì½ê¸°

ìž¥ì : ë©”ëª¨ë¦¬ ì ê²Œ ì‚¬ìš©
ë‹¨ì : ë””ìŠ¤í¬ ì½ê¸°ê°€ ë‘ ë²ˆ ë°œìƒ

íˆ¬ íŒ¨ìŠ¤ ë°©ì‹ì€ ë””ìŠ¤í¬ì— ë‘ ë²ˆ ì ‘ê·¼í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ë³´í†µ `ì‹±ê¸€ íŒ¨ìŠ¤ ë°©ì‹` `ì„ í˜¸`í•œë‹¤ê³  í•©ë‹ˆë‹¤.

### 2.3.2 Â **ì •ë ¬ ì²˜ë¦¬ ë°©ë²•**

---

**MySQLì€ ORDER BYë¥¼ ì²˜ë¦¬í•  ë•Œ ì„¸ ê°€ì§€ ì£¼ìš” ì „ëžµì„ ì‚¬ìš©í•©ë‹ˆë‹¤:**

**1ï¸âƒ£Â ì²« ë²ˆì§¸ëŠ” ì¸ë±ìŠ¤ë¥¼ í™œìš©í•œ ì •ë ¬ìž…ë‹ˆë‹¤.** ì´ëŠ” ê°€ìž¥ íš¨ìœ¨ì ì¸ ë°©ë²•ìœ¼ë¡œ, B-Tree ì¸ë±ìŠ¤ì˜ ì •ë ¬ëœ íŠ¹ì„±ì„ í™œìš©í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ ë°©ë²•ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ê¹Œë‹¤ë¡œìš´ ì¡°ê±´ë“¤ì´ ì¶©ì¡±ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ORDER BYì— ëª…ì‹œëœ ì¹¼ëŸ¼ì´ ë°˜ë“œì‹œ ë“œë¼ì´ë¹™ í…Œì´ë¸”ì— ì†í•´ì•¼ í•˜ë©°, í•´ë‹¹ ì¹¼ëŸ¼ë“¤ì´ ìˆœì„œëŒ€ë¡œ ì¸ë±ìŠ¤ë¡œ êµ¬ì„±ë˜ì–´ ìžˆì–´ì•¼ í•©ë‹ˆë‹¤. ë˜í•œ WHERE ì ˆì˜ ì¡°ê±´ê³¼ ORDER BYê°€ ë™ì¼í•œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìžˆì–´ì•¼ í•©ë‹ˆë‹¤.

2ï¸âƒ£Â **ë‘ ë²ˆì§¸ëŠ” ë“œë¼ì´ë¹™ í…Œì´ë¸”ë§Œì„ ì •ë ¬í•˜ëŠ” ë°©ì‹ìž…ë‹ˆë‹¤.** ì´ëŠ” ì¡°ì¸ì„ ìˆ˜í–‰í•˜ê¸° ì „ì— ì²« ë²ˆì§¸ í…Œì´ë¸”ì˜ ë°ì´í„°ë¥¼ ë¨¼ì € ì •ë ¬í•œ í›„ ì¡°ì¸ì„ ì‹¤í–‰í•©ë‹ˆë‹¤. ì´ ë°©ë²•ì€ ORDER BY ì ˆì´ ë“œë¼ì´ë¹™ í…Œì´ë¸”ì˜ ì¹¼ëŸ¼ë§Œìœ¼ë¡œ êµ¬ì„±ë  ë•Œ ì‚¬ìš©í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

3ï¸âƒ£Â **ì„¸ ë²ˆì§¸ëŠ” ìž„ì‹œ í…Œì´ë¸”ì„ ì‚¬ìš©í•œ ì •ë ¬ìž…ë‹ˆë‹¤**. ORDER BYì˜ ì •ë ¬ ê¸°ì¤€ì´ `ë“œë¦¬ë¸ í…Œì´ë¸”ì˜ ì¹¼ëŸ¼`ì¼ ë•Œ ì´ ë°©ì‹ì´ ì‚¬ìš©ë©ë‹ˆë‹¤. ì‹¤í–‰ ê³„íšì—ì„œ `Using temporary`ë¼ëŠ” í‘œì‹œë¡œ í™•ì¸í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

ì´ëŸ¬í•œ ì •ë ¬ ì²˜ë¦¬ëŠ” ë°ì´í„°ë¥¼ `í´ë¼ì´ì–¸íŠ¸`ì— `ì „ë‹¬`í•˜ëŠ” `ë°©ì‹`ì—ë„ ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤. MySQLì€ ë‘ ê°€ì§€ ì „ì†¡ ë°©ì‹ì„ ì‚¬ìš©í•˜ëŠ”ë°, ìŠ¤íŠ¸ë¦¬ë° ë°©ì‹ê³¼ ë²„í¼ë§ ë°©ì‹ìž…ë‹ˆë‹¤. `ìŠ¤íŠ¸ë¦¬ë° ë°©ì‹`ì€ ë°ì´í„°ë¥¼ ì°¾ëŠ” `ì¦‰ì‹œ` í´ë¼ì´ì–¸íŠ¸ì— `ì „ì†¡`í•˜ì—¬ ë¹ ë¥¸ ì‘ë‹µì„ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤. íŠ¹ížˆ LIMIT ì ˆê³¼ í•¨ê»˜ ì‚¬ìš©ë  ë•Œ íš¨ê³¼ì ìž…ë‹ˆë‹¤. ë°˜ë©´ `ë²„í¼ë§ ë°©ì‹`ì€ `ëª¨ë“  ë°ì´í„°`ë¥¼ `ì²˜ë¦¬í•œ í›„`ì—ì•¼ ê²°ê³¼ë¥¼ `ì „ì†¡`í•  ìˆ˜ ìžˆì–´ ì‘ë‹µ ì‹œê°„ì´ ë” ê¹ë‹ˆë‹¤. **ORDER BYë‚˜ GROUP BYë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ëŒ€ë¶€ë¶„ `ë²„í¼ë§ ë°©ì‹`ì´ í•„ìš”í•©ë‹ˆë‹¤.**

ì„±ëŠ¥ ê´€ì ì—ì„œ ë³¼ ë•Œ, 1ï¸âƒ£Â `ì¸ë±ìŠ¤ë¥¼ í™œìš©í•œ ì •ë ¬`ì´ `ê°€ìž¥ íš¨ìœ¨`ì ì´ë¯€ë¡œ ê°€ëŠ¥í•˜ë‹¤ë©´ ì´ ë°©ì‹ì„ ì‚¬ìš©í•˜ë„ë¡ ì¿¼ë¦¬ë¥¼ ì„¤ê³„í•´ì•¼ í•©ë‹ˆë‹¤. ë¶ˆê°€ëŠ¥í•œ ê²½ìš°ë¼ë©´, ìµœì†Œí•œ ë“œë¼ì´ë¹™ í…Œì´ë¸”ë§Œ ì •ë ¬í•˜ëŠ” ë°©ì‹ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. 3ï¸âƒ£Â `ìž„ì‹œ í…Œì´ë¸”`ì„ ì‚¬ìš©í•œ `ì •ë ¬`ì€ ê°€ìž¥ `ë¹„íš¨ìœ¨`ì ì´ë¯€ë¡œ ê°€ëŠ¥í•œ í”¼í•´ì•¼ í•©ë‹ˆë‹¤.

```java
SELECT e.*, d.dept_name
FROM employees e
JOIN departments d ON e.dept_no = d.dept_no
WHERE e.salary > 50000;

ë“œë¼ì´ë¹™ í…Œì´ë¸”(outer í…Œì´ë¸”) : employees
ë“œë¦¬ë¸ í…Œì´ë¸”(inner í…Œì´ë¸”): departments
```

## 2.4 GROUP BY ì²˜ë¦¬

---

- GROUP BYë„ ì¿¼ë¦¬ê°€ ìŠ¤íŠ¸ë¦¬ë° ì²˜ë¦¬ë¥¼ í•  ìˆ˜ ì—†ê²Œ í•˜ëŠ” ì²˜ë¦¬ìž…ë‹ˆë‹¤
- GROUP BYì—ì„œ ì‚¬ìš©ë˜ëŠ” HAVINGì ˆì€ GROUP BY ê²°ê³¼ì— ëŒ€í•´ í•„í„°ë§ ì—­í• ì„ ìˆ˜í–‰í•˜ë¯€ë¡œ ì¸ë±ìŠ¤ë¡œ íŠœë‹ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.
- GROUP BYëŠ” ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•  ë•ŒëŠ” ì¸ë±ìŠ¤ ìŠ¤ìº”, ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ì„ ì‚¬ìš©í•˜ê³ , ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•˜ëŠ” ì¿¼ë¦¬ì—ì„œëŠ” `ìž„ì‹œ í…Œì´ë¸”ì„ ì‚¬ìš©`í•©ë‹ˆë‹¤.

### 2.4.1 ì¸ë±ìŠ¤ ìŠ¤ìº”ì„ ì´ìš©í•˜ëŠ” GROUP BY(íƒ€ì´íŠ¸ ì¸ë±ìŠ¤ ìŠ¤ìº”)

---

ì¡°ì¸ì˜ ë“œë¼ì´ë¹™ í…Œì´ë¸”ì— ì†í•œ ì¹¼ëŸ¼ë§Œ ì´ìš©í•´ ê·¸ë£¨í•‘í•  ë•Œ GROUP BY ì¹¼ëŸ¼ìœ¼ë¡œ ì´ë¯¸ ì¸ë±ìŠ¤ê°€ ìžˆë‹¤ë©´ ê·¸ ì¸ë±ìŠ¤ë¥¼ ì°¨ë¡€ëŒ€ë¡œ ì½ìœ¼ë©´ì„œ ê·¸ë£¨í•‘ ìž‘ì—…ì„ ìˆ˜í–‰í•˜ê³  ê·¸ ê²°ê³¼ë¡œ ì¡°ì¸ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.

### 2.4.2 ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ì„ ì´ìš©í•˜ëŠ” GROUP BY

---

- ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº” ë°©ì‹ì€ ë‹¨ì¼ í…Œì´ë¸”ì— ëŒ€í•´ ìˆ˜í–‰ë˜ëŠ” GROUP BY ì²˜ë¦¬ì—ë§Œ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤. í”„ë¦¬í”½ìŠ¤ ì¸ë±ìŠ¤ëŠ” ì´ ë°©ì‹ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
    - **Why only ë‹¨ì¼í…Œì´ë¸”?** ì¸ë±ìŠ¤ ìˆœì„œ ìœ ì§€ê°€ JOINì—ì„  ë¶ˆê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ìž…ë‹ˆë‹¤.

### 2.4.3 ìž„ì‹œ í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ëŠ” GROUP BY

---

- ì¸ë±ìŠ¤ë¥¼ ì „í˜€ ì‚¬ìš©í•˜ì§€ ëª»í•  ë•ŒëŠ” ì´ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ëœë‹¤.
- 8.0ë²„ì „ë¶€í„°ëŠ” ORDER BY ì ˆì´ ì—†ì„ ë•Œ, ë¬µì‹œì  ì •ë ¬ì´ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.

## 2.5 DISTINCT ì²˜ë¦¬

---

### **2.5.1 SELECT DISTINCT â€¦**

---

- ë‹¨ìˆœížˆ ìœ ë‹ˆí¬í•œ ë ˆì½”ë“œë§Œ ê°€ì ¸ì˜¤ê³ ìž í•œë‹¤ë©´ GROUP BYì™€ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ëœë‹¤.

## 2.6 ë‚´ë¶€ ìž„ì‹œ í…Œì´ë¸” í™œìš©

---

- MySQL ì—”ì§„ì´ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œë¶€í„° ë°›ì•„ì˜¨ ë ˆì½”ë“œë¥¼ ì •ë ¬í•˜ê±°ë‚˜ ê·¸ë£¨í•‘í•  ë•ŒëŠ” `ë‚´ë¶€ì ì¸ ìž„ì‹œ í…Œì´ë¸”`ì„ ì‚¬ìš©í•œë‹¤. ì´ ë‚´ë¶€ì ì¸ ìž„ì‹œ í…Œì´ë¸”ì€ â€œCREATE TEMPORARY TABLEâ€ ëª…ë ¹ìœ¼ë¡œ ë§Œë“  ìž„ì‹œ í…Œì´ë¸”ê³¼ëŠ” ë‹¤ë¥´ë‹¤. ë‚´ë¶€ì ì¸ ìž„ì‹œ í…Œì´ë¸”ì€ ì¿¼ë¦¬ ì²˜ë¦¬ê°€ ì™„ë£Œë˜ë©´ ìžë™ìœ¼ë¡œ ì‚­ì œëœë‹¤.

### 2.6.1 ë©”ëª¨ë¦¬ ìž„ì‹œ í…Œì´ë¸”ê³¼ ë””ìŠ¤í¬ ìž„ì‹œ í…Œì´ë¸”

---

- `ë©”ëª¨ë¦¬ëŠ”` `TempTable`ì´ë¼ëŠ” ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©, `ë””ìŠ¤í¬`ì— ì €ìž¥ë˜ëŠ” ìž„ì‹œ í…Œì´ë¸”ì€ `InnoDB` ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©í•œë‹¤.
- ë©”ëª¨ë¦¬ì˜ TempTableì˜ í¬ê¸°ê°€ 1GBë¥¼ ë„˜ìœ¼ë©´ MySQL ì„œë²„ëŠ” ë©”ëª¨ë¦¬ì˜ TempTableì„ MMAP íŒŒì¼ë¡œ ì „í™˜í•˜ê±°ë‚˜, InnoDB í…Œì´ë¸”ë¡œ ì „í™˜í•  ìˆ˜ ìžˆë‹¤. MMAP íŒŒì¼ë¡œ ì „í™˜í•˜ëŠ” ê²ƒì´ InnoDB í…Œì´ë¸”ë¡œ ì „í™˜í•˜ëŠ” ê²ƒë³´ë‹¤ ì˜¤ë²„í—¤ë“œê°€ ì ê¸° ë•Œë¬¸ì— MMAP íŒŒì¼ë¡œ ì „í™˜í•˜ëŠ” ê²ƒì´ ê¸°ë³¸ê°’ì´ë‹¤.
- **MAAPíŒŒì¼**: ìž„ì‹œ í…Œì´ë¸”ì„ ë””ìŠ¤í¬ì— ì €ìž¥í•˜ë˜, íŒŒì¼ì„ ë©”ëª¨ë¦¬ì— ë§µí•‘í•˜ì—¬ ë””ìŠ¤í¬ I/O ì˜¤ë²„í—¤ë“œë¥¼ ì¤„ìž…ë‹ˆë‹¤.

### 2.6.2 ìž„ì‹œ í…Œì´ë¸”ì´ í•„ìš”í•œ ì¿¼ë¦¬

---

- ORDER BYì™€ GROUP BYì— ëª…ì‹œëœ ì¹¼ëŸ¼ì´ ë‹¤ë¥¸ ì¿¼ë¦¬
- ORDER BYë‚˜ GROUP BYì— ëª…ì‹œëœ ì¹¼ëŸ¼ì´ ì¡°ì¸ì˜ ìˆœì„œìƒ ì²« ë²ˆì§¸ í…Œì´ë¸”ì´ ì•„ë‹Œ ì¿¼ë¦¬
- DISTINCTë‚˜ ORDER BYê°€ ë™ì‹œì— ì¿¼ë¦¬ì— ì¡´ìž¬í•˜ëŠ” ê²½ìš° ë˜ëŠ” DISTINCTê°€ ì¸ë±ìŠ¤ë¡œ ì²˜ë¦¬ë˜ì§€ ëª»í•˜ëŠ” ì¿¼ë¦¬
- UNIONì´ë‚˜ UNION DISTINCTê°€ ì‚¬ìš©ëœ ì¿¼ë¦¬
- ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšì—ì„œ select_typeì´ `DERIVED`ì¸ ì¿¼ë¦¬

### 2.6.3 ìž„ì‹œ í…Œì´ë¸”ì´ ë””ìŠ¤í¬ì— ìƒì„±ë˜ëŠ” ê²½ìš°

---

- ê¸°ë³¸ì ìœ¼ë¡œ ë©”ëª¨ë¦¬ìƒì— ë§Œë“¤ì–´ì§€ì§€ë§Œ ë‹¤ìŒì˜ ê²½ìš° ë””ìŠ¤í¬ì— ìƒì„±ë©ë‹ˆë‹¤.
    - UNIONì´ë‚˜ UNION ALLì—ì„œ SELECTë˜ëŠ” ì¹¼ëŸ¼ ì¤‘ì—ì„œ ê¸¸ì´ê°€ 512ë°”ì´íŠ¸ ì´ìƒì¸ í¬ê¸°ì˜ ì¹¼ëŸ¼ì´ ìžˆëŠ” ê²½ìš°
    - GROUP BYë‚˜ DISTINCT ì¹¼ëŸ¼ì—ì„œ 512ë°”ì´íŠ¸ ì´ìƒì¸ í¬ê¸°ì˜ ì¹¼ëŸ¼ì´ ìžˆëŠ” ê²½ìš°
    - ë©”ëª¨ë¦¬ ìž„ì‹œ í…Œì´ë¸”ì˜ í¬ê¸°ê°€ tmp_table_size ë˜ëŠ” max_heap_table_size ì‹œìŠ¤í…œ ë³€ìˆ˜ë³´ë‹¤ í¬ê±°ë‚˜ temptable_max_ram ì‹œìŠ¤í…œ ë³€ìˆ˜ ê°’ë³´ë‹¤ í° ê²½ìš°

### 2.6.4 ìž„ì‹œ í…Œì´ë¸” ê´€ë ¨ ìƒíƒœ ë³€ìˆ˜

---

- ì‹¤í–‰ ê³„íšì— Using temporaryê°€ í‘œì‹œëë‹¤ê³ í•´ì„œ, ìž„ì‹œ í…Œì´ë¸”ì´ ë©”ëª¨ë¦¬ì—ì„œ ì²˜ë¦¬ëëŠ”ì§€ ë””ìŠ¤í¬ì—ì„œ ì²˜ë¦¬ëëŠ”ì§€ ì•Œ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í•œ ë²ˆ í‘œì‹œëë‹¤ê³  í•˜ë‚˜ë§Œ ì‚¬ìš©í–ˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•˜ì§€ë„ ì•ŠìŠµë‹ˆë‹¤.
- ì´ë¥¼ ì•Œê¸° ìœ„í•´, MySQL ì„œë²„ì˜ ìƒíƒœ ë³€ìˆ˜(SHOW SESSION STATUS LIKE â€˜Created_tmp%â€™;)ë¥¼ í™•ì¸í•˜ë©´ ëœë‹¤.

# 3. ê³ ê¸‰ ìµœì í™”

---

## 3.1 ì˜µí‹°ë§ˆì´ì € ìŠ¤ìœ„ì¹˜ ì˜µì…˜

---

ì˜µí‹°ë§ˆì´ì € ìŠ¤ìœ„ì¹˜ ì˜µì…˜ì€ optimizer_switch ì‹œìŠ¤í…œ ë³€ìˆ˜ë¥¼ ì´ìš©í•´ì„œ ì œì–´í•©ë‹ˆë‹¤.

(ìžì„¸í•œ ìŠ¤ìœ„ì¹˜ ì˜µì…˜ì€ ì±… ì°¸ì¡°)

### 3.1.1 MRRê³¼ ë°°ì¹˜ í‚¤ ì•¡ì„¸ìŠ¤(Multi-Range Read & batch_key_access)

---

- MRR (multi-range read), DS-MRR(disk sweep multi-range read)ë¼ê³ ë„ í•©ë‹ˆë‹¤.
- ê¸°ì¡´ì—ëŠ” ë„¤ìŠ¤í‹°ë“œ ë£¨í”„ ì¡°ì¸ ë°©ì‹ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. ë“œë¼ì´ë¹™ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ í•œ ê±´ ì½ì–´ì„œ ë“œë¦¬ë¸ í…Œì´ë¸”ì˜ ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œë¥¼ ì°¾ì•„ì„œ ì¡°ì¸ì„ ìˆ˜í–‰í•˜ëŠ” ë°©ì‹
- ë„¤ìŠ¤í‹°ë“œ ë£¨í”„ ì¡°ì¸ ë°©ì‹ì—ì„œëŠ” ì¡°ì¸ ì²˜ë¦¬ë¥¼ MySQL ì—”ì§„ì´ ë‹´ë‹¹í•˜ê³ , ì‹¤ì œ ë ˆì½”ë“œë¥¼ ê²€ìƒ‰í•˜ê³  ì½ëŠ” ë¶€ë¶„ì€ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ë‹´ë‹¹í•©ë‹ˆë‹¤. ì´ ë°©ì‹ì—ì„œëŠ” ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œëŠ” ìµœì í™”ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
- ì´ëŸ° ë‹¨ì ì„ ë³´ì™„í•˜ê¸° ìœ„í•´ ì¡°ì¸ ë²„í¼ì— ì¡°ì¸ ëŒ€ìƒì„ ë²„í¼ë§í•©ë‹ˆë‹¤. ì¡°ì¸ ë²„í¼ì— ë ˆì½”ë“œê°€ ê°€ë“ ì°¨ë©´ MySQL ì—”ì§„ì€ ë²„í¼ë§ëœ ë ˆì½”ë“œë¥¼ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œ í•œ ë²ˆì— ìš”ì²­í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•´ì„œ `ë””ìŠ¤í¬ ì½ê¸°ë¥¼ ìµœì†Œí™”`í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ì´ ë°©ì‹ì„ `MRR`ì´ë¼ê³  í•©ë‹ˆë‹¤.
- MRRì„ ì‘ìš©í•´ì„œ ì‹¤í–‰ë˜ëŠ” ì¡°ì¸ ë°©ì‹ì„ BKA(Batched Key Access) ì¡°ì¸ì´ë¼ê³  í•œë‹¤. ë¶€ê°€ì ì¸ ì •ë ¬ ìž‘ì—…ì´ í•„ìš”í•´ì„œ ì„±ëŠ¥ì´ ì €í•˜ë˜ê¸°ë„ í•©ë‹ˆë‹¤.

### 3.1.2 ë¸”ë¡ ë„¤ìŠ¤í‹°ë“œ ë£¨í”„ ì¡°ì¸

---

- ì¡°ì¸ì˜ ì—°ê²° ì¡°ê±´ì´ ë˜ëŠ” ì¹¼ëŸ¼ì— ëª¨ë‘ ì¸ë±ìŠ¤ê°€ ìžˆëŠ” ê²½ìš° ì‚¬ìš©ë˜ëŠ” ì¡°ì¸ ë°©ì‹ìž…ë‹ˆë‹¤.
- `ë„¤ìŠ¤í‹°ë“œ ë£¨í”„ ì¡°ì¸ê³¼ ì°¨ì´ì `ì€ `ì¡°ì¸ ë²„í¼ ì‚¬ìš© ì—¬ë¶€`ì™€ ì¡°ì¸ì—ì„œ ë“œë¼ì´ë¹™ í…Œì´ë¸”ê³¼ ë“œë¦¬ë¸ í…Œì´ë¸”ì´ `ì–´ë–¤ ìˆœì„œë¡œ ì¡°ì¸ë˜ëŠëƒ`ìž…ë‹ˆë‹¤. ë¸”ë¡ ë„¤ìŠ¤í‹°ë“œ ë£¨í”„ ì¡°ì¸ì—ì„œëŠ” ì¡°ì¸ ë²„í¼ê°€ ì‚¬ìš©ë©ë‹ˆë‹¤. ì‹¤í–‰ ê³„íšì—ì„œ Extra ì¹¼ëŸ¼ì— Using join bufferê°€ í‘œì‹œë˜ë©´ ì¡°ì¸ í¼ë²„ë¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
- ì¡°ì¸ì€ ë“œë¼ì´ë¹™ í…Œì´ë¸”ì—ì„œ ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œì˜ ê±´ìˆ˜ë§Œí¼ ë“œë¦¬ë¸ í…Œì´ë¸”ì„ ê²€ìƒ‰í•˜ë©´ì„œ ì²˜ë¦¬ë©ë‹ˆë‹¤. ê·¸ëž˜ì„œ ë“œë¦¬ë¸ í…Œì´ë¸”ì„ ê²€ìƒ‰í•  ë•Œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ì¿¼ë¦¬ëŠ” ëŠë ¤ì§‘ë‹ˆë‹¤.
- ì˜µí‹°ë§ˆì´ì €ëŠ” ë“œë¼ì´ë¹™ í…Œì´ë¸”ì—ì„œ ì½ì€ ë ˆì½”ë“œë¥¼ ë©”ëª¨ë¦¬ì— ìºì‹œ(ì¡°ì¸ ë²„í¼)í•œ í›„ ë“œë¦¬ë¸ í…Œì´ë¸”ê³¼ ì´ ë©”ëª¨ë¦¬ ìºì‹œë¥¼ ì¡°ì¸í•˜ëŠ” í˜•íƒœë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.
- ì¡°ì¸ ë²„í¼ê°€ ì‚¬ìš©ë˜ëŠ” ì¿¼ë¦¬ì—ì„œëŠ” **ì¡°ì¸ì˜ ìˆœì„œê°€ ê±°ê¾¸ë¡œì¸ ê²ƒì²˜ëŸ¼ ì‹¤í–‰ë©ë‹ˆ**ë‹¤. Aê°€ ë“œë¼ì´ë¹™, Bê°€ ë“œë¦¬ë¸ í…Œì´ë¸”ì¼ ë•Œ, Aì—ì„œ ê²€ìƒ‰ëœ ë ˆì½”ë“œë¥¼ ì¡°ì¸ ë²„í¼ì— ë‹´ì•„ë‘ê³ , Bì˜ ë ˆì½”ë“œë¥¼ ë¨¼ì € ì½ê³  ì¡°ì¸ ë²„í¼ì—ì„œ ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œë¥¼ ì°¾ëŠ” ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤.

### 3.1.3 ì¸ë±ìŠ¤ ì»¨ë””ì…˜ í‘¸ì‹œë‹¤ìš´

---

first_name, last_name ì¹¼ëŸ¼ì´ ìžˆëŠ” í…Œì´ë¸”ì—ì„œ ë‘ ì¹¼ëŸ¼ì— ëŒ€í•œ ì¸ë±ìŠ¤ ix_lastname_firstnameì´ ìžˆë‹¤ê³  ê°€ì •í•´ë³´ê² ìŠµë‹ˆë‹¤.

ì´ë•Œ,Â `SELECT * FROM employees WHERE last_name=â€™Actionâ€™ AND first_name LIKE â€˜%salâ€™;`Â ì¿¼ë¦¬ë¥¼ ì‚´íŽ´ë³´ê² ìŠµë‹ˆë‹¤.

`last_name=â€™Actionâ€™`ì€ ix_lastname_firstnameì„ ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìžˆì§€ë§Œ,Â `first_name LIKE â€˜%salâ€™`Â ëŠ” ì•„ë‹™ë‹ˆë‹¤.

- ì¸ë±ìŠ¤ ì»¨ë””ì…˜ í‘¸ì‹œë‹¤ìš´ì´ ì—†ë‹¤ë©´,Â `last_name=â€™Actionâ€™`Â ì¡°ê±´ìœ¼ë¡œ ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ì„ í•˜ê³  í…Œì´ë¸” ë ˆì½”ë“œë¥¼ ì½ì€ í›„,Â `first_name LIKE â€˜%salâ€™`Â ì¡°ê±´ì— ë¶€í•©ë˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ë¹„êµí•˜ì—¬ ë ˆì½”ë“œë¥¼ ë°˜í™˜í•˜ê²Œ ëœë‹¤. 2ê±´ì˜ í…Œì´ë¸” ì½ê¸°ê°€ ë°œìƒí•©ë‹ˆë‹¤. ì¸ë±ìŠ¤ë¥¼ ë²”ìœ„ ì œí•œ ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©í•˜ì§€ ëª»í•˜ëŠ” ë‘ë²ˆì§¸ ì¡°ê±´ì€ MySQL ì—”ì§„ì´ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œ ë„˜ê¸°ì§€ ì•Šê¸° ë•Œë¬¸ìž…ë‹ˆë‹¤.
- ì¸ë±ìŠ¤ ì»¨ë””ì…˜ í‘¸ì‹œë‹¤ìš´ì„ í™œì„±í™”í•˜ë©´, **ì¸ë±ìŠ¤ë¥¼ ë²”ìœ„ ì œí•œ ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©í•˜ì§€ ëª»í•˜ëŠ” ì¡°ê±´ì´ë¼ë„ ì¸ë±ìŠ¤ì— í¬í•¨ëœ ì¹¼ëŸ¼ì˜ ì¡°ê±´ì´ë¼ë©´ ê°™ì´ ëª¨ì•„ì„œ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œ ì „ë‹¬í•©ë‹ˆë‹¤**. ê·¸ëŸ¬ë©´ ë¶ˆí•„ìš”í•œ 2ê±´ì˜ í…Œì´ë¸” ì½ê¸°ê°€ ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

### 3.1.4 ì¸ë±ìŠ¤ í™•ìž¥(use_index_extensions)

---

- ì´ ì˜µì…˜ì€ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”ì—ì„œ ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ì— ìžë™ìœ¼ë¡œ ì¶”ê°€ëœ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ í™œìš©í•  ìˆ˜ ìžˆê²Œ í• ì§€ë¥¼ ê²°ì •í•˜ëŠ” ì˜µì…˜ìž…ë‹ˆë‹¤.
- InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ í´ëŸ¬ìŠ¤í„°ë§ í‚¤ë¡œ ìƒì„±í•©ë‹ˆë‹¤. ê·¸ëž˜ì„œ ëª¨ë“  ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ëŠ” ë¦¬í”„ ë…¸ë“œì— í”„ë¼ì´ë¨¸ë¦¬ í‚¤ ê°’ì„ ê°€ì§‘ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, Aí…Œì´ë¸”ì˜ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ê°€ (a, b)ì´ê³ , ix_cë¼ëŠ” c ì¹¼ëŸ¼ë§Œì„ í¬í•¨í•˜ëŠ” ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ê°€ ìžˆë‹¤ê³  ê°€ì •í•´ë³´ë©´, ì´ ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ëŠ” ë°ì´í„° ë ˆì½”ë“œë¥¼ ì°¾ì•„ê°€ê¸° ìœ„í•´ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì¸ a, b ì¹¼ëŸ¼ì„ ìˆœì„œëŒ€ë¡œ í¬í•¨í•©ë‹ˆë‹¤.(ë¦¬í”„ ë…¸ë“œì—) ê·¸ëž˜ì„œ ix_c ì¸ë±ìŠ¤ëŠ” (c, a, b) ì¡°í•©ìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•œ ê²ƒê³¼ í¡ì‚¬í•˜ê²Œ ìž‘ë™í•©ë‹ˆë‹¤.

### 3.1.5 ì¸ë±ìŠ¤ ë¨¸ì§€

---

- ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•  ë•Œ, ëŒ€ë¶€ë¶„ ì˜µí‹°ë§ˆì´ì €ëŠ” í…Œì´ë¸”ë³„ë¡œ í•˜ë‚˜ì˜ ì¸ë±ìŠ¤ë§Œ ì‚¬ìš©í•˜ëŠ” ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•©ë‹ˆë‹¤. ì¸ë±ìŠ¤ ë¨¸ì§€ ì‹¤í–‰ ê³„íšì„ ì‚¬ìš©í•˜ë©´ í•˜ë‚˜ì˜ í…Œì´ë¸”ì— ëŒ€í•´ 2ê°œ ì´ìƒì˜ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤.
- ì¿¼ë¦¬ì— ì‚¬ìš©ëœ ê°ê°ì˜ ì¡°ê±´ì´ ì„œë¡œ ë‹¤ë¥¸ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìžˆê³ , ê·¸ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ë§Žì„ ê²ƒìœ¼ë¡œ ì˜ˆìƒë  ë•Œ MySQL ì„œë²„ëŠ” ì¸ë±ìŠ¤ ë¨¸ì§€ ì‹¤í–‰ ê³„íšì„ ì„ íƒí•œë‹¤.
- ê°ê°ì˜ ê²°ê³¼ë¥¼ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ë³‘í•©í• ì§€ì— ë”°ë¼ ì•„ëž˜ ì„¸ê°€ì§€ë¡œ êµ¬ë¶„í•©ë‹ˆë‹¤.
    - index_merge_intersection
    - index_merge_sort_union
    - index_merge_union

### 3.1.5.1 ì¸ë±ìŠ¤ ë¨¸ì§€ - êµì§‘í•©(index_merge_intersection)

---

- 2ê°œ ì´ìƒì˜ where ì¡°ê±´ì„ ê°€ì§€ê³  ìžˆê³ , ëª¨ë‘ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìžˆì„ ë•Œ ë‘ í‚¤ë¥¼ ëª¨ë‘ ì‚¬ìš©í•´ì„œ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ìž…ë‹ˆë‹¤. ì‹¤í–‰ ê³„íšì˜ `Extra` ì¹¼ëŸ¼ì— `Using intersect`ë¼ê³  í‘œì‹œë˜ë©´, ì´ ì¿¼ë¦¬ê°€ ì—¬ëŸ¬ ê°œì˜ ì¸ë±ìŠ¤ë¥¼ ê°ê° ê²€ìƒ‰í•˜ì—¬ ê·¸ ê²°ê³¼ì˜ êµì§‘í•©ë§Œ ë°˜í™˜í•œ ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
- ì˜µí‹°ë§ˆì´ì €ê°€ ê°ê°ì˜ ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œ ê±´ìˆ˜ë¥¼ ì˜ˆì¸¡í•´ë³¸ ê²°ê³¼, ì´ ì¡°ê±´ë“¤ì´ ëª¨ë‘ ìƒëŒ€ì ìœ¼ë¡œ ë§Žì€ ë ˆì½”ë“œë¥¼ ê°€ì ¸ì™€ì•¼í•  ë•Œ ì´ ë°©ì‹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
    - ì˜ˆ: ì¸ë±ìŠ¤ `age`ì™€ `city` ëª¨ë‘ **1ë§Œ ê±´ ì´ìƒ**ì„ ë°˜í™˜í•  ê²½ìš°.

### 3.1.5.2 ì¸ë±ìŠ¤ ë¨¸ì§€ - í•©ì§‘í•©(index_merge_union)

---

- ì¸ë±ìŠ¤ ë¨¸ì§€ì˜ Using unionì€ whereì ˆì— ì‚¬ìš©ëœ 2ê°œ ì´ìƒì˜ ì¡°ê±´ì´ ê°ê°ì˜ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë˜ OR ì—°ì‚°ìžë¡œ ì—°ê²°ëœ ê²½ìš°ì— ì‚¬ìš©ë˜ëŠ” ìµœì í™”í•©ë‹ˆë‹¤.
- ë‘ ì§‘í•©ì—ì„œ í•˜ë‚˜ì”© ê°€ì ¸ì™€ì„œ ì„œë¡œ ë¹„êµí•˜ë©´ì„œ `í”„ë¼ì´ë¨¸ë¦¬ í‚¤ ê¸°ì¤€`ìœ¼ë¡œ ì¤‘ë³µëœ ê°’ì„ `ì •ë ¬ ì—†ì´` ê±¸ëŸ¬ëƒ…ë‹ˆë‹¤. ì¤‘ë³µ ì œê±°ë¥¼ ìˆ˜í–‰í•  ë•Œ ì‚¬ìš©ë˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì€ ìš°ì„ ìˆœìœ„ íì´ë‹¤.
- Extra ì¹¼ëŸ¼ì— `Using union`ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤.

### 3.1.5.3ì¸ë±ìŠ¤ ë¨¸ì§€ - ì •ë ¬ í›„ í•©ì§‘í•©(index_merge_sort_union)

---

- ë§Œì•½ ì¸ë±ìŠ¤ ë¨¸ì§€ ìž‘ì—…ì„ í•˜ëŠ” ë„ì¤‘ì— ê²°ê³¼ì˜ ì •ë ¬ì´ í•„ìš”í•œ ê²½ìš° sort union ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
- Extra ì¹¼ëŸ¼ì— `Using sort union`ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤.

### 3.1.6 ì„¸ë¯¸ ì¡°ì¸(semijoin)

---

- ì„¸ë¯¸ì¡°ì¸ì´ëž€ EXISTS ë° IN ì ˆê³¼ í•¨ê»˜ ì„œë¸Œì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
- ë‹¤ë¥¸ í…Œì´ë¸”ê³¼ ì‹¤ì œ ì¡°ì¸ì„ ìˆ˜í–‰í•˜ì§€ëŠ” ì•Šê³ , ë‹¨ì§€ ë‹¤ë¥¸ í…Œì´ë¸”ì—ì„œ ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œê°€ ìžˆëŠ”ì§€ ì—†ëŠ”ì§€ë§Œ ì²´í¬í•˜ëŠ” í˜•íƒœì˜ ì¿¼ë¦¬ë¥¼ ì„¸ë¯¸ ì¡°ì¸ì´ë¼ê³  í•©ë‹ˆë‹¤.

### 3.1.6.1 ì„¸ë¯¸ ì¡°ì¸(semijoin) - í…Œì´ë¸” í’€-ì•„ì›ƒ

---

- Table pullout ìµœì í™”ëŠ” ì„¸ë¯¸ ì¡°ì¸ì˜ ì„œë¸Œì¿¼ë¦¬ì— ì‚¬ìš©ëœ í…Œì´ë¸”ì„ ì•„ìš°í„° ì¿¼ë¦¬ë¡œ ë„ì§‘ì–´ë‚¸ í›„ì— ì¿¼ë¦¬ë¥¼ ì¡°ì¸ ì¿¼ë¦¬ë¡œ ìž¬ìž‘ì„±í•˜ëŠ” í˜•íƒœì˜ ìµœì í™”ìž…ë‹ˆë‹¤.
- Table pullout ìµœì í™”ê°€ ì‚¬ìš©ëëŠ”ì§€ ì •í™•í•˜ê²Œ í™•ì¸í•˜ëŠ” ë°©ë²•ì€ EXPLAIN ëª…ë ¹ ì‹¤í–‰ ì§í›„, SHOW WARNINGS ëª…ë ¹ìœ¼ë¡œ MySQL ì˜µí‹°ë§ˆì´ì €ê°€ ìž¬ìž‘ì„±í•œ ì¿¼ë¦¬ë¥¼ ë³´ëŠ” ê²ƒìž…ë‹ˆë‹¤. IN (subquery) í˜•íƒœê°€ ì‚¬ë¼ì§€ê³ , JOINìœ¼ë¡œ ì¿¼ë¦¬ê°€ ìž¬ìž‘ì„±ë˜ì–´ ìžˆìŠµë‹ˆë‹¤.
- Table pullout ìµœì í™”ëŠ” ëª¨ë“  í˜•íƒœì˜ ì„œë¸Œì¿¼ë¦¬ì—ì„œ ì‚¬ìš©ë  ìˆ˜ ìžˆëŠ” ê²ƒì€ ì•„ë‹ˆê³ , ëª‡ ê°€ì§€ ì œí•œ ì‚¬í•­ì´ ìžˆìŠµë‹ˆë‹¤.

### 3.1.6.2 ì„¸ë¯¸ ì¡°ì¸(semijoin) - í¼ìŠ¤íŠ¸ ë§¤ì¹˜

---

- First Match ìµœì í™” ì „ëžµì€ IN (subquery) í˜•íƒœì˜ ì„¸ë¯¸ ì¡°ì¸ì„ EXISTS (subquery) í˜•íƒœë¡œ íŠœë‹í•œ ê²ƒê³¼ ë¹„ìŠ·í•œ ë°©ë²•ìœ¼ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤.
- First Match ìµœì í™”ê°€ ì‚¬ìš©ë˜ë©´ ì‹¤í–‰ ê³„íšì˜ Extra ì¹¼ëŸ¼ì—ëŠ” FirstMatch(table-N) ë¬¸êµ¬ê°€ í‘œì‹œë©ë‹ˆë‹¤.

### 3.1.6.3 ì„¸ë¯¸ ì¡°ì¸(semijoin) - ë£¨ìŠ¤ ìŠ¤ìº”(loosescan)

---

- ì„¸ë¯¸ ì¡°ì¸ ì„œë¸Œì¿¼ë¦¬ ìµœì í™”ì˜ ë£¨ìŠ¤ ìŠ¤ìº”ì€ ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ê³¼ ë¹„ìŠ·í•œ ì½ê¸° ë°©ì‹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
- ë£¨ìŠ¤ ìŠ¤ìº” ìµœì í™”ëŠ” ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ìœ¼ë¡œ ì„œë¸Œì¿¼ë¦¬ í…Œì´ë¸”ì„ ì½ê³ , ê·¸ë‹¤ìŒìœ¼ë¡œ ì•„ìš°í„° í…Œì´ë¸”ì„ ë“œë¦¬ë¸ìœ¼ë¡œ ì‚¬ìš©í•´ì„œ ì¡°ì¸ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. ê·¸ëž˜ì„œ ì„œë¸Œì¿¼ë¦¬ ë¶€ë¶„ì´ ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ì„ ì‚¬ìš©í•  ìˆ˜ ìžˆëŠ” ì¡°ê±´ì´ ê°–ì¶°ì ¸ì•¼ ì‚¬ìš©í•  ìˆ˜ ìžˆëŠ” ìµœì í™”ìž…ë‹ˆë‹¤.

### 3.1.6.4 ì„¸ë¯¸ ì¡°ì¸(semijoin) - êµ¬ì²´í™”(Materialization)

---

- Materialization ìµœì í™”ëŠ” ì„¸ë¯¸ ì¡°ì¸ì— ì‚¬ìš©ëœ ì„œë¸Œì¿¼ë¦¬ë¥¼ í†µì§¸ë¡œ êµ¬ì²´í™”í•´ì„œ ì¿¼ë¦¬ë¥¼ ìµœì í™”í•œë‹¤ëŠ” ì˜ë¯¸ìž…ë‹ˆë‹¤. êµ¬ì²´í™”ëŠ” ë‚´ë¶€ ìž„ì‹œ í…Œì´ë¸”ì„ ìƒì„±í•œë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œí•©ë‹ˆë‹¤.
- ë‹¤ë¥¸ ì„œë¸Œì¿¼ë¦¬ ìµœì í™”ì™€ëŠ” ë‹¬ë¦¬, ì„œë¸Œì¿¼ë¦¬ ë‚´ì— GROUP BYì ˆì´ ìžˆì–´ë„ ì‚¬ìš©í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

### 3.1.6.5 ì„¸ë¯¸ ì¡°ì¸(semijoin) - ì¤‘ë³µ ì œê±°(Dubplicated Weed-out)

---

- Dubplicated Weed-outì€ ì„¸ë¯¸ ì¡°ì¸ ì„œë¸Œì¿¼ë¦¬ë¥¼ ì¼ë°˜ì ì¸ INNER JOIN ì¿¼ë¦¬ë¡œ ë°”ê¿”ì„œ ì‹¤í–‰í•˜ê³  ë§ˆì§€ë§‰ì— ì¤‘ë³µëœ ë ˆì½”ë“œë¥¼ ì œê±°í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ì²˜ë¦¬ë˜ëŠ” ìµœì í™” ì•Œê³ ë¦¬ì¦˜ìž…ë‹ˆë‹¤.
- ì‹¤í–‰ ê³„íšì— Dubplicated Weed-outì´ í‘œì‹œë˜ì§€ëŠ” ì•Šì§€ë§Œ, Extra ì¹¼ëŸ¼ì— start temporary, end temporary ë¬¸êµ¬ê°€ ë³„ë„ë¡œ í‘œê¸°ë©ë‹ˆë‹¤. start/end temporary ë¬¸êµ¬ì˜ êµ¬ê°„ì´ Dubplicated Weed-out ìµœì í™”ì˜ ì²˜ë¦¬ ê³¼ì •ì´ë¼ê³  ë³´ë©´ ë©ë‹ˆë‹¤.

### 3.1.7 ì»¨ë””ì…˜ íŒ¬ì•„ì›ƒ(condition_fanout_filter)

---

- ì¡°ì¸ì„ ì‹¤í–‰í•  ë•Œ í…Œì´ë¸”ì˜ ìˆœì„œëŠ” ì¿¼ë¦¬ì˜ ì„±ëŠ¥ì— ë§¤ìš° í° ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤.
- ì˜µí‹°ë§ˆì´ì €ëŠ” ì—¬ëŸ¬ í…Œì´ë¸”ì´ ì¡°ì¸ë˜ëŠ” ê²½ìš°, ê°€ëŠ¥í•˜ë‹¤ë©´ ì¼ì¹˜í•˜ëŠ” **ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ì ì€ ìˆœì„œëŒ€ë¡œ ì¡°ì¸ì„ ì‹¤í–‰**í•œë‹¤.
- ì˜µí‹°ë§ˆì´ì €ê°€ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë ˆì½”ë“œ ê±´ìˆ˜ë¥¼ ì •í™•í•˜ê²Œ ì˜ˆì¸¡í•  ìˆ˜ ìžˆë‹¤ë©´, ë” ë¹ ë¥¸ ì‹¤í–‰ ê³„íšì„ ë§Œë“¤ ìˆ˜ ìžˆìŠµë‹ˆë‹¤. **ì‹¤í–‰ ê³„íšì—ì„œ ì˜ˆì¸¡ëœ ì»¬ëŸ¼ ë¹„ìœ¨ì€ filtered ì»¬ëŸ¼ì—ì„œ í™•ì¸í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.**
- condition_fanout_filter ìµœì í™” ê¸°ëŠ¥ì„ í™œì„±í™”í•˜ë©´ ì˜µí‹°ë§ˆì´ì €ëŠ” ë” ì •êµí•œ ê³„ì‚°ì„ í•˜ë¯€ë¡œ ë” ë§Žì€ ì‹œê°„, ì»´í“¨íŒ… ìžì›ì´ ì†Œëª¨ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì¿¼ë¦¬ê°€ ê°„ë‹¨í•œ ê²½ìš°ì—ëŠ” í° ë„ì›€ì´ ë˜ì§€ ì•Šì„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

### 3.1.8 íŒŒìƒ í…Œì´ë¸” ë¨¸ì§€(derived_merge)

---

- ì˜ˆì „ ë²„ì „ì˜ MySQL ì„œë²„ì—ì„œëŠ” FROM ì ˆì— ì‚¬ìš©ëœ ì„œë¸Œì¿¼ë¦¬ëŠ” ë¨¼ì € ì‹¤í–‰í•´ì„œ ê·¸ ê²°ê³¼ë¥¼ ìž„ì‹œ í…Œì´ë¸”ë¡œ ë§Œë“  ë‹¤ìŒ ì™¸ë¶€ ì¿¼ë¦¬ ë¶€ë¶„ì„ ì²˜ë¦¬í–ˆë‹¤. ì´ë ‡ê²Œ **FROM ì ˆì— ì‚¬ìš©ëœ ì„œë¸Œì¿¼ë¦¬ë¥¼ íŒŒìƒ í…Œì´ë¸”ì´ë¼ê³  ë¶€ë¥¸ë‹ˆë‹¤.**
- ìž„ì‹œ í…Œì´ë¸”ì— ë ˆì½”ë“œê°€ ë§Žì•„ì§„ë‹¤ë©´ ìž„ì‹œ í…Œì´ë¸”ë¡œ ë ˆì½”ë“œë¥¼ ë³µì‚¬í•˜ê³  ì½ëŠ” ì˜¤ë²„í—¤ë“œë¡œ ì¸í•´ ì¿¼ë¦¬ ì„±ëŠ¥ì´ ì €í•˜ë©ë‹ˆë‹¤.
- 5.7 ë²„ì „ë¶€í„°ëŠ” íŒŒìƒ í…Œì´ë¸”ë¡œ ë§Œë“¤ì–´ì§€ëŠ” ì„œë¸Œì¿¼ë¦¬ë¥¼ ì™¸ë¶€ ì¿¼ë¦¬ì™€ ë³‘í•©í•´ì„œ ì„œë¸Œì¿¼ë¦¬ ë¶€ë¶„ì„ ì œê±°í•˜ëŠ” ìµœì í™”ê°€ ë„ìž…ëìŠµë‹ˆë‹¤. (derived_merge ìµœì í™” ì˜µì…˜)

### 3.1.9 ì¸ë¹„ì €ë¸” ì¸ë±ìŠ¤(use_invisible_indexes)

---

- ì¸ë±ìŠ¤ë¥¼ ì‚­ì œí•˜ì§€ ì•Šê³ , í•´ë‹¹ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•˜ê²Œ ì œì–´í•˜ëŠ” ê¸°ëŠ¥ìž…ë‹ˆë‹¤.Â `ALTER TABLE â€¦ ALTER INDEX â€¦ [ VISIBLE | INVISIBLE ]`
- use_invisible_indexes ì˜µì…˜ì„ onìœ¼ë¡œ ì„¤ì •í•˜ë©´, INVISIBLE ìƒíƒœì˜ ì¸ë±ìŠ¤ë„ ì˜µí‹°ë§ˆì´ì €ê°€ ë³¼ ìˆ˜ ìžˆìŠµë‹ˆë‹¤. (ê¸°ë³¸ê°’ì€ off)

### 3.1.10 ìŠ¤í‚µ ìŠ¤ìº”

---

- ì¸ë±ìŠ¤ì˜ í•µì‹¬ì€ ê°’ì´ ì •ë ¬ë¼ ìžˆë‹¤ëŠ” ê²ƒì´ë©°, ì´ë¡œ ì¸í•´ ì¸ë±ìŠ¤ë¥¼ êµ¬ì„±í•˜ëŠ” ì¹¼ëŸ¼ì˜ ìˆœì„œê°€ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, (A, B, C) ì¹¼ëŸ¼ìœ¼ë¡œ êµ¬ì„±ëœ ì¸ë±ìŠ¤ê°€ ìžˆì„ ë•Œ, WHERE ì ˆì— Bì™€ C ì¹¼ëŸ¼ì— ëŒ€í•œ ì¡°ê±´ì„ ê°€ì§€ê³  ìžˆë‹¤ë©´ ì´ ì¿¼ë¦¬ëŠ” ì¸ë±ìŠ¤ë¥¼ í™œìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì¸ë±ìŠ¤ ìŠ¤í‚µ ìŠ¤ìº”ì€ ì œí•œì ì´ê¸´ í•˜ì§€ë§Œ ì¸ë±ìŠ¤ì˜ ì´ëŸ° ì œì•½ ì‚¬í•­ì„ ë›°ì–´ë„˜ì„ ìˆ˜ ìžˆëŠ” ìµœì í™” ê¸°ë²•ìž…ë‹ˆë‹¤.
- ì¸ë±ìŠ¤ì˜ ì„ í–‰ ì¹¼ëŸ¼ì´ ì¡°ê±´ì ˆì— ì‚¬ìš©ë˜ì§€ ì•Šë”ë¼ë„ í›„í–‰ ì¹¼ëŸ¼ì˜ ì¡°ê±´ë§Œìœ¼ë¡œë„ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•œí•˜ì—¬ ì¿¼ë¦¬ ì„±ëŠ¥ì„ ê°œì„ í•œ ê²ƒìž…ë‹ˆë‹¤.
- í•˜ì§€ë§Œ ì¸ë±ìŠ¤ì˜ ì„ í–‰ ì¹¼ëŸ¼ì´ ë§¤ìš° ë‹¤ì–‘í•œ ê°’ì„ ê°€ì§€ëŠ” ê²½ìš°ì—ëŠ” ë¹„íš¨ìœ¨ì ì¼ ìˆ˜ ìžˆìœ¼ë¯€ë¡œ, ì˜µí‹°ë§ˆì´ì €ëŠ” ì¸ë±ìŠ¤ì˜ ì„ í–‰ ì¹¼ëŸ¼ì´ `ì†Œìˆ˜ì˜ ìœ ë‹ˆí¬í•œ ê°’ì„ ê°€ì§ˆ ë•Œë§Œ` `ì¸ë±ìŠ¤ ìŠ¤í‚µ ìŠ¤ìº” ìµœì í™”ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.`

### 3.1.11 í•´ì‹œ ì¡°ì¸

---

- í•´ì‹œ ì¡°ì¸ì€ ì²« ë²ˆì§¸ ë ˆì½”ë“œë¥¼ ì°¾ëŠ” ë°ëŠ” ì‹œê°„ì´ ë§Žì´ ê±¸ë¦¬ì§€ë§Œ ìµœì¢… ë ˆì½”ë“œë¥¼ ì°¾ëŠ” ë°ê¹Œì§€ëŠ” ì‹œê°„ì´ ë§Žì´ ê±¸ë¦¬ì§€ ì•Šìœ¼ë¯€ë¡œ, ìµœê³  ìŠ¤ë£¨í’‹(best throughput) ì „ëžµì— ì í•©í•©ë‹ˆë‹¤.
- ë„¤ìŠ¤í‹°ë“œ ë£¨í”„ ì¡°ì¸ì€ ë§ˆì§€ë§‰ ë ˆì½”ë“œë¥¼ ì°¾ëŠ” ë°ê¹Œì§€ëŠ” ì‹œê°„ì´ ë§Žì´ ê±¸ë¦¬ì§€ë§Œ ì²« ë²ˆì§¸ ë ˆì½”ë“œë¥¼ ì°¾ëŠ” ê²ƒì€ ìƒëŒ€ì ìœ¼ë¡œ í›¨ì”¬ ë¹ ë¥´ë¯€ë¡œ, ìµœê³  ì‘ë‹µ ì†ë„(best response-time) ì „ëžµì— ì í•©í•©ë‹ˆë‹¤.
- ì¼ë°˜ì ì¸ ì›¹ ì„œë¹„ìŠ¤ëŠ” ì˜¨ë¼ì¸ íŠ¸ëžœìž­ì…˜ ì„œë¹„ìŠ¤ì´ë¯€ë¡œ ì‘ë‹µ ì†ë„ê°€ ë” ì¤‘ìš”í•©ë‹ˆë‹¤. ë¶„ì„ ì„œë¹„ìŠ¤ëŠ” ì „ì²´ ìŠ¤ë£¨í’‹ì´ ë” ì¤‘ìš”í•©ë‹ˆë‹¤. MySQLì€ ë²”ìš© RDBMSì´ë¯€ë¡œ ì‘ë‹µ ì†ë„ì— ë” ì§‘ì¤‘í•´ì•¼ í•©ë‹ˆë‹¤. ì¦‰, MySQL ì„œë²„ì˜ í•´ì‹œ ì¡°ì¸ ìµœì í™”ëŠ” **ë„¤ìŠ¤í‹°ë“œ ë£¨í”„ ì¡°ì¸ì´ ì‚¬ìš©ë˜ê¸°ì— ì í•©í•˜ì§€ ì•Šì€ ê²½ìš°**ë¥¼ ìœ„í•œ `ì°¨ì„ ì±…ìž…ë‹ˆë‹¤`.
- **í•´ì‹œ ì¡°ì¸ì€ ë¹Œë“œ ë‹¨ê³„ì™€ í”„ë¡œë¸Œ ë‹¨ê³„ë¡œ ë‚˜ë‰˜ì–´ ì²˜ë¦¬ë©ë‹ˆë‹¤.** 
**ë¹Œë“œ ë‹¨ê³„**ì—ì„œëŠ” ì¡°ì¸ ëŒ€ìƒ í…Œì´ë¸” ì¤‘ì—ì„œ ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ì ì–´ì„œ í•´ì‹œ í…Œì´ë¸”ë¡œ ë§Œë“¤ê¸°ì— ìš©ì´í•œ í…Œì´ë¸”ì„ ê³¨ë¼ì„œ ë©”ëª¨ë¦¬ì— í•´ì‹œ í…Œì´ë¸”ì„ ìƒì„±í•˜ëŠ” ìž‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í•´ì‹œ í…Œì´ë¸”ì„ ë§Œë“¤ ë•Œ ì‚¬ìš©ë˜ëŠ” ì›ë³¸ í…Œì´ë¸”ì„ ë¹Œë“œ í…Œì´ë¸”ì´ë¼ê³  í•©ë‹ˆë‹¤. 
í”„ë¡œë¸Œ ë‹¨ê³„ëŠ” ë‚˜ë¨¸ì§€ í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ ì½ì–´ì„œ í•´ì‹œ í…Œì´ë¸”ì˜ ì¼ì¹˜ ë ˆì½”ë“œë¥¼ ì°¾ëŠ” ê³¼ì •ìž…ë‹ˆë‹¤. ì´ ë‚˜ë¨¸ì§€ í…Œì´ë¸”ì„ í”„ë¡œë¸Œ í…Œì´ë¸”ì´ë¼ê³  í•©ë‹ˆë‹¤.
- í•´ì‹œ í…Œì´ë¸”ì„ ë©”ëª¨ë¦¬ì— ì €ìž¥í•  ë•Œ ì¡°ì¸ ë²„í¼ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. í•´ì‹œ í…Œì´ë¸”ì´ ì¡°ì¸ ë²„í¼ ë©”ëª¨ë¦¬ë³´ë‹¤ í° ê²½ìš° ë¹Œë“œ í…Œì´ë¸”ê³¼ í”„ë¡œë¸Œ í…Œì´ë¸”ì„ ì²­í¬ ë‹¨ìœ„ë¡œ ë‚˜ëˆ  ì €ìž¥ëœ ì²­í¬ ê°œìˆ˜ë§Œí¼ ë°˜ë³µ ì²˜ë¦¬í•˜ì—¬ ì™„ì„±ëœ ì¡°ì¸ ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ëƒ…ë‹ˆë‹¤.
- ì˜µí‹°ë§ˆì´ì €ëŠ” ë¹Œë“œ í…Œì´ë¸” í¬ê¸°ì— ë”°ë¼ `í´ëž˜ì‹ í•´ì‹œ ì¡°ì¸ ì•Œê³ ë¦¬ì¦˜(`ë©”ëª¨ë¦¬ì—ì„œ ëª¨ë‘ ì²˜ë¦¬ ê°€ëŠ¥í•œ ê²½ìš°), `ê·¸ë ˆì´ìŠ¤ í•´ì‹œ ì¡°ì¸ ì•Œê³ ë¦¬ì¦˜`(í•´ì‹œ í…Œì´ë¸”ì´ ì¡°ì¸ ë²„í¼ ë©”ëª¨ë¦¬ë³´ë‹¤ í° ê²½ìš°)ì„ í•˜ì´ë¸Œë¦¬ë“œí•˜ê²Œ í™œìš©í•˜ë„ë¡ êµ¬í˜„ë¼ ìžˆë‹¤.

### 3.1.12 ì¸ë±ìŠ¤ ì •ë ¬ ì„ í˜¸(prefer_ordering_index)

---

- ì˜µí‹°ë§ˆì´ì €ë„ ì‹¤ìˆ˜í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ì˜µí‹°ë§ˆì´ì €ê°€ ORDER BYë¥¼ ìœ„í•œ ì¸ë±ìŠ¤ì— ë„ˆë¬´ ê°€ì¤‘ì¹˜ë¥¼ ë¶€ì—¬í•˜ì§€ ì•Šë„ë¡ prefer_ordering_index ì˜µì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ê¸°ë³¸ê°’ì€ onì´ì§€ë§Œ, ì˜µí‹°ë§ˆì´ì €ê°€ ìžì£¼ ì‹¤ìˆ˜í•œë‹¤ë©´ offë¡œ ì„¤ì •í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

## 3.2 ì¡°ì¸ ìµœì í™” ì•Œê³ ë¦¬ì¦˜

---

### 3.2.1 Exhaustive ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜

---

- FROM ì ˆì— ëª…ì‹œëœ ëª¨ë“  í…Œì´ë¸”ì˜ ì¡°í•©ì— ëŒ€í•´ ì‹¤í–‰ ê³„íšì˜ ë¹„ìš©ì„ ê³„ì‚°í•´ì„œ ìµœì ì˜ ì¡°í•© 1ê°œë¥¼ ì°¾ëŠ” ë°©ë²•ìž…ë‹ˆë‹¤.
- í…Œì´ë¸”ì´ nê°œë¼ë©´ ê°€ëŠ¥í•œ ì¡°ì¸ ì¡°í•©ì€ n!ê°œì´ë¯€ë¡œ, í…Œì´ë¸”ì´ ë§Žì•„ì§€ë©´ ì‹œê°„ì´ ì˜¤ëž˜ ê±¸ë¦½ë‹ˆë‹¤.

### 3.2.2 Greedy ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜

---

- Exhaustive ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜ì˜ ì‹œê°„ ì†Œëª¨ì ì¸ ë¬¸ì œì ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ë„ìž…ëœ ìµœì í™” ê¸°ë²•ì´ë‹¤.
- MySQLì—ì„œëŠ” ì¡°ì¸ ìµœì í™”ë¥¼ ìœ„í•œ ì‹œìŠ¤í…œ ë³€ìˆ˜ë¡œ optimizer_prune_level, optimizer_search_depthê°€ ì œê³µë©ë‹ˆë‹¤.
    - `optimizer_search_depth` ì‹œìŠ¤í…œ ë³€ìˆ˜ëŠ” Greedy ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜ê³¼ Exhaustive ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜ ì¤‘ì—ì„œ ì–´ë–¤ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í• ì§€ ê²°ì •í•˜ëŠ” ì‹œìŠ¤í…œ ë³€ìˆ˜ìž…ë‹ˆë‹¤. optimizer_search_depthëŠ” 0~62 ì‚¬ì´ì˜ ì •ìˆ˜ë¡œ ì„¤ì •í•  ìˆ˜ ìžˆê³ , 1~62ëŠ” ì§€ì •ëœ ê°œìˆ˜ë¡œ í•œì •í•´ì„œ ìµœì ì˜ ì‹¤í–‰ ê³„íšì„ ì‚°ì¶œí•˜ê³ , 0ì€ ì˜µí‹°ë§ˆì´ì €ê°€ ìžë™ìœ¼ë¡œ ê²°ì •í•©ë‹ˆë‹¤. optimizer_search_depth ì„¤ì • ê°’ê³¼ ì¿¼ë¦¬ì˜ ì¡°ì¸ í…Œì´ë¸” ê°œìˆ˜ì— ë”°ë¼ Exhaustive ê²€ìƒ‰ë§Œ ì‚¬ìš©ë˜ê±°ë‚˜ Greedy ê²€ìƒ‰ê³¼ Exhaustive ê²€ìƒ‰ì´ ë™ì‹œì— ì‚¬ìš©ë©ë‹ˆë‹¤.
    - `optimizer_prune_level` ì‹œìŠ¤í…œ ë³€ìˆ˜ëŠ” Heuristic ê²€ìƒ‰ì´ ìž‘ë™í•˜ëŠ” ë°©ì‹ì„ ì œì–´í•œë‹¤.

# 4. ì¿¼ë¦¬ ížŒíŠ¸

---

ì¿¼ë¦¬ ížŒíŠ¸ëŠ” ì˜µí‹°ë§ˆì´ì €ì—ê²Œ ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê³„íšì„ ì–´ë–»ê²Œ ìˆ˜ë¦½í•´ì•¼ í• ì§€ ì•Œë ¤ì¤„ ìˆ˜ ìžˆëŠ” ë°©ë²•ìž…ë‹ˆë‹¤.

## 4.1 ì¸ë±ìŠ¤ ížŒíŠ¸

---

ì¸ë±ìŠ¤ ížŒíŠ¸ëŠ” ëª¨ë‘ MySQL ì„œë²„ì— ì˜µí‹°ë§ˆì´ì € ížŒíŠ¸ê°€ ë„ìž…ë˜ê¸° ì „ì— ì‚¬ìš©ë˜ë˜ ê¸°ëŠ¥ë“¤ìž…ë‹ˆë‹¤. ê°€ëŠ¥í•˜ë‹¤ë©´ **ì˜µí‹°ë§ˆì´ì € ížŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë‚«ìŠµë‹ˆë‹¤.**

ì¸ë±ìŠ¤ ížŒíŠ¸ëŠ” SELECT, UPDATE ëª…ë ¹ì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

### 4.1.1 STRAIGHT_JOIN

---

- `STRAIGHT_JOIN`ì€ `SELECT`, `UPDATE`, `DELETE` ì¿¼ë¦¬ì—ì„œ ì—¬ëŸ¬ ê°œì˜ í…Œì´ë¸”ì´ ì¡°ì¸ë˜ëŠ” ê²½ìš°, **ì¡°ì¸ ìˆœì„œë¥¼ ê³ ì •**í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.
- ì—¬ëŸ¬ ê°œì˜ í…Œì´ë¸”ì„ ì¡°ì¸í•  ë•Œ **ì–´ëŠ í…Œì´ë¸”ì´ ë“œë¼ì´ë¹™(Driving) í…Œì´ë¸”**ì´ ë˜ê³ , **ì–´ëŠ í…Œì´ë¸”ì´ ë“œë¦¬ë¸(Driven) í…Œì´ë¸”**ì´ ë ì§€ ì•Œ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ **ì¡°ì¸ ìˆœì„œë¥¼ ê³ ì •í•´ì•¼ í•˜ëŠ” ê²½ìš°**ì— `STRAIGHT_JOIN`ì„ ì‚¬ìš©í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
- **ì‚¬ìš© ë°©ë²•**: ì¸ë±ìŠ¤ ížŒíŠ¸ëŠ” `SELECT`, `UPDATE` ëª…ë ¹ ë°”ë¡œ ë’¤ì— ì‚¬ìš©í•©ë‹ˆë‹¤.
    
    ```sql
    sql
    ì½”ë“œ ë³µì‚¬
    SELECT STRAIGHT_JOIN e.first_name, d.dept_name FROM employees e JOIN departments d ON e.dept_id = d.dept_id;
    
    ```
    
- `STRAIGHT_JOIN` ížŒíŠ¸ëŠ” ì˜µí‹°ë§ˆì´ì €ê°€ `FROM` ì ˆì— ëª…ì‹œëœ **í…Œì´ë¸” ìˆœì„œëŒ€ë¡œ** ì¡°ì¸ì„ ìˆ˜í–‰í•˜ë„ë¡ ìœ ë„í•©ë‹ˆë‹¤.
- **ì¡°ì¸ ìˆœì„œë¥¼ ê³ ì •í•´ì•¼ í•˜ëŠ” ê²½ìš°:**
    - **ìž„ì‹œ í…Œì´ë¸”ê³¼ ì¼ë°˜ í…Œì´ë¸” ì¡°ì¸**:ìž„ì‹œ í…Œì´ë¸”ì„ **ë“œë¼ì´ë¹™ í…Œì´ë¸”**ë¡œ ì„ íƒí•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
    - **ìž„ì‹œ í…Œì´ë¸”ë¼ë¦¬ ì¡°ì¸**:ìž„ì‹œ í…Œì´ë¸”ì€ í•­ìƒ ì¸ë±ìŠ¤ê°€ ì—†ìœ¼ë¯€ë¡œ, **í¬ê¸°ê°€ ìž‘ì€ í…Œì´ë¸”ì„ ë“œë¼ì´ë¹™ í…Œì´ë¸”**ë¡œ ì„ íƒí•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
    - **ì¼ë°˜ í…Œì´ë¸”ë¼ë¦¬ ì¡°ì¸**:
        - ì–‘ìª½ í…Œì´ë¸” ëª¨ë‘ ì¡°ì¸ ì¹¼ëŸ¼ì— ì¸ë±ìŠ¤ê°€ ì¡´ìž¬í•˜ê±°ë‚˜, ì¸ë±ìŠ¤ê°€ ì—†ëŠ” ê²½ìš°:**ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ì ì€ í…Œì´ë¸”**ì„ ë“œë¼ì´ë¹™ í…Œì´ë¸”ë¡œ ì„ íƒí•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
        - í•œìª½ë§Œ ì¸ë±ìŠ¤ê°€ ìžˆëŠ” ê²½ìš°:**ì¡°ì¸ ì¹¼ëŸ¼ì— ì¸ë±ìŠ¤ê°€ ì—†ëŠ” í…Œì´ë¸”**ì„ ë“œë¼ì´ë¹™ í…Œì´ë¸”ë¡œ ì„ íƒí•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ìž…ë‹ˆë‹¤.
        - ì—¬ê¸°ì„œ ë§í•˜ëŠ” **ë ˆì½”ë“œ ê±´ìˆ˜**ëŠ” **ì „ì²´ í…Œì´ë¸”ì˜ ë ˆì½”ë“œ ìˆ˜**ê°€ ì•„ë‹ˆë¼, **WHERE ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë ˆì½”ë“œ ìˆ˜**ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.

### 4.1.2 USE INDEX / FORCE INDEX / IGNORE INDEX

---

- ì‚¬ìš©í•˜ë ¤ëŠ” ì¸ë±ìŠ¤ë¥¼ ê°€ì§€ëŠ” **í…Œì´ë¸” ë’¤ì—** ížŒíŠ¸ë¥¼ ëª…ì‹œí•©ë‹ˆë‹¤.
- ì˜µí‹°ë§ˆì´ì €ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©í•  ì¸ë±ìŠ¤ë¥¼ ìž˜ ì„ íƒí•˜ì§€ë§Œ,**ë¹„ìŠ·í•œ ì¸ë±ìŠ¤ê°€ ì—¬ëŸ¬ ê°œ ìžˆì„ ë•Œ** ì‹¤ìˆ˜ë¥¼ í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.ì´ëŸ´ ë•Œ **íŠ¹ì • ì¸ë±ìŠ¤ë¥¼ ê°•ì œë¡œ ì‚¬ìš©**í•˜ê±°ë‚˜ **ì‚¬ìš©í•˜ì§€ ì•Šë„ë¡** ì„¤ì •í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
- **ì˜µí‹°ë§ˆì´ì € ì¸ë±ìŠ¤ ížŒíŠ¸ ì¢…ë¥˜:**
    - **USE INDEX**:
        
        íŠ¹ì • ì¸ë±ìŠ¤ë¥¼ **ì‚¬ìš©í•˜ë„ë¡ ê¶Œìž¥**í•˜ëŠ” ížŒíŠ¸.
        
        ```sql
        sql
        ì½”ë“œ ë³µì‚¬
        SELECT * FROM users USE INDEX (idx_age) WHERE age > 30;
        
        ```
        
    - **FORCE INDEX**:
        
        `USE INDEX`ë³´ë‹¤ ê°•í•œ ížŒíŠ¸ë¡œ, **íŠ¹ì • ì¸ë±ìŠ¤ ì‚¬ìš©ì„ ê°•ì œ**í•©ë‹ˆë‹¤.
        
        ê·¸ëŸ¬ë‚˜ `USE INDEX`ë„ ì¶©ë¶„ížˆ ê°•ë ¥í•˜ê¸° ë•Œë¬¸ì— ì¼ë°˜ì ìœ¼ë¡œ `FORCE INDEX`ëŠ” ìž˜ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
        
    - **IGNORE INDEX**:
        
        íŠ¹ì • ì¸ë±ìŠ¤ë¥¼ **ì‚¬ìš©í•˜ì§€ ëª»í•˜ê²Œ** í•˜ëŠ” ížŒíŠ¸.
        
        ```sql
        sql
        ì½”ë“œ ë³µì‚¬
        SELECT * FROM users IGNORE INDEX (idx_age) WHERE age > 30;
        
        ```
        
- **ì„¸ë¶€ ì¸ë±ìŠ¤ ížŒíŠ¸ ì‚¬ìš© ê°€ëŠ¥**:
    
    `USE INDEX FOR JOIN`, `USE INDEX FOR ORDER BY`ì™€ ê°™ì´ íŠ¹ì • ìš©ë„ë¡œë§Œ ì¸ë±ìŠ¤ë¥¼ ì§€ì •í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
    

### 4.1.3 SQL_CALC_FOUND_ROWS

---

- MySQLì˜ `LIMIT`ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, **ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë ˆì½”ë“œê°€ ë” ë§Žë”ë¼ë„** `LIMIT`ì— ëª…ì‹œëœ **ìˆ˜ë§Œí¼** ë°ì´í„°ë¥¼ ì°¾ìœ¼ë©´ ê²€ìƒ‰ì„ ë©ˆì¶¥ë‹ˆë‹¤.
- ê·¸ëŸ¬ë‚˜ `SQL_CALC_FOUND_ROWS`ë¥¼ ì‚¬ìš©í•˜ë©´, **ê²€ìƒ‰ì„ ë©ˆì¶”ì§€ ì•Šê³ ** ëê¹Œì§€ ê²€ìƒ‰í•˜ì—¬ **ì´ ë ˆì½”ë“œ ìˆ˜**ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.
- ì´ ê¸°ëŠ¥ì€ **ì„±ëŠ¥ ìµœì í™” ëª©ì ì´ ì•„ë‹ˆë¼ ê°œë°œ íŽ¸ì˜ì„±ì„ ìœ„í•œ ê¸°ëŠ¥**ì´ë¯€ë¡œ **ì‚¬ìš©ì„ ì§€ì–‘í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.**

```sql
sql
ì½”ë“œ ë³µì‚¬
SELECT SQL_CALC_FOUND_ROWS * FROM users LIMIT 10;
SELECT FOUND_ROWS();

```

## 4.2 ì˜µí‹°ë§ˆì´ì € ížŒíŠ¸

---

### 4.2.1 ì˜µí‹°ë§ˆì´ì € ížŒíŠ¸ ì¢…ë¥˜

---

- **ì˜µí‹°ë§ˆì´ì € ížŒíŠ¸**ëŠ” ì ìš© ë²”ìœ„ì— ë”°ë¼ ë‹¤ìŒ 4ê°€ì§€ ê·¸ë£¹ìœ¼ë¡œ ë‚˜ë‰©ë‹ˆë‹¤.
    - **ì¸ë±ìŠ¤ ížŒíŠ¸**
    - **í…Œì´ë¸” ížŒíŠ¸**
    - **ì¿¼ë¦¬ ë¸”ë¡ ížŒíŠ¸**
    - **ê¸€ë¡œë²Œ ížŒíŠ¸ (ì¿¼ë¦¬ ì „ì²´)**

### 4.2.2 MAX_EXECUTION_TIME

---

- ì¿¼ë¦¬ì˜ **ìµœëŒ€ ì‹¤í–‰ ì‹œê°„**ì„ ì„¤ì •í•˜ëŠ” ížŒíŠ¸ìž…ë‹ˆë‹¤.
- ì§€ì •í•œ ì‹œê°„ì„ ì´ˆê³¼í•˜ë©´ ì¿¼ë¦¬ëŠ” **ì‹¤íŒ¨** ì²˜ë¦¬ë©ë‹ˆë‹¤.

```sql
sql
ì½”ë“œ ë³µì‚¬
SELECT /*+ MAX_EXECUTION_TIME(1000) */ * FROM users WHERE age > 20;

```

### 4.2.3 SET_VAR

---

- ì •ë ¬ ë²„í¼(ì†ŒíŠ¸ ë²„í¼)ë‚˜ **ì¡°ì¸ ë²„í¼ í¬ê¸°**ë¥¼ ì¼ì‹œì ìœ¼ë¡œ ì¡°ì •í•˜ì—¬ **ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ì„±ëŠ¥ì„ í–¥ìƒ**ì‹œí‚¤ëŠ” ížŒíŠ¸ìž…ë‹ˆë‹¤.

```sql
sql
ì½”ë“œ ë³µì‚¬
SELECT /*+ SET_VAR(sort_buffer_size=2097152) */ * FROM users WHERE age > 20;

```

### 4.2.4 SEMIJOIN & NO_SEMIJOIN

---

- **`SEMIJOIN`** ížŒíŠ¸ëŠ” **ì„¸ë¯¸ ì¡°ì¸ ìµœì í™” ë°©ì‹**ì„ ì‚¬ìš©í•˜ë„ë¡ ê°•ì œí•˜ëŠ” ížŒíŠ¸ìž…ë‹ˆë‹¤.
- `NO_SEMIJOIN`ì€ ë°˜ëŒ€ë¡œ ì„¸ë¯¸ ì¡°ì¸ ìµœì í™”ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šë„ë¡ í•©ë‹ˆë‹¤.

### 4.2.5 INDEX_MERGE & NO_INDEX_MERGE

---

- `INDEX_MERGE`ëŠ” **ë‹¤ì¤‘ ì¸ë±ìŠ¤ ë³‘í•©** ìµœì í™”ë¥¼ ì‚¬ìš©í•˜ë„ë¡ í•©ë‹ˆë‹¤.
- `NO_INDEX_MERGE`ëŠ” **ë‹¤ì¤‘ ì¸ë±ìŠ¤ ë³‘í•© ìµœì í™” ë¹„í™œì„±í™”**.

```sql
sql
ì½”ë“œ ë³µì‚¬
SELECT /*+ INDEX_MERGE(users idx_age, idx_city) */ * FROM users WHERE age > 30 AND city = 'Paris';

```

### 4.2.6 BNL & NO_BNL & HASHJOIN & NO_HASHJOIN

---

- `BNL` (Block Nested Loop)ì™€ `HASHJOIN`ì€ **ì¡°ì¸ ë°©ì‹**ì„ ê°•ì œí•˜ëŠ” ížŒíŠ¸ìž…ë‹ˆë‹¤.
- `NO_BNL`ê³¼ `NO_HASHJOIN`ì€ í•´ë‹¹ ì¡°ì¸ ë°©ì‹ì„ **ë¹„í™œì„±í™”**í•©ë‹ˆë‹¤.

### 4.2.7 INDEX & NO_INDEX

---

- `INDEX`ëŠ” íŠ¹ì • ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ì§€ì •í•©ë‹ˆë‹¤.
- `NO_INDEX`ëŠ” íŠ¹ì • ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šë„ë¡ ì§€ì •í•©ë‹ˆë‹¤.
- ì˜µí‹°ë§ˆì´ì € ížŒíŠ¸ì—ì„œëŠ” **í…Œì´ë¸”ëª…ê³¼ ì¸ë±ìŠ¤ëª…ì„ í•¨ê»˜ ëª…ì‹œ**í•´ì•¼ í•©ë‹ˆë‹¤.

```sql
sql
ì½”ë“œ ë³µì‚¬
SELECT /*+ INDEX(users idx_age) */ * FROM users WHERE age > 30;

```
